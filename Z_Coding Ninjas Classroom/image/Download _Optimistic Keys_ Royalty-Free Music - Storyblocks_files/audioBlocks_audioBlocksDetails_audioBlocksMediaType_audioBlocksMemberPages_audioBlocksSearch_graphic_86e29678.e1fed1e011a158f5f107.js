(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{159:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1),o=n.n(r),a=n(0),i=n.n(a),s=n(534),c=(n(5),n(4));function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h,v,y,b=function(e){function t(){return l(this,t),f(this,d(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.a.createElement(s.a,{postSignUpUrl:c.e.buildInstance().getFoldersApiBasePath()+"/favorite-then-visit/"+this.props.stockItemId,dismissHandler:this.props.dismissHandler,tagLine:"Start organizing assets for your creative projects!",type:"favorite"})}}])&&p(n.prototype,r),o&&p(n,o),t}(a.Component);h=b,v="propTypes",y={stockItemId:o.a.number,dismissHandler:o.a.func},v in h?Object.defineProperty(h,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[v]=y},162:function(e,t,n){"use strict";var r=n(1),o=n.n(r);t.a={stockItem:o.a.shape({id:o.a.number.isRequired,title:o.a.string,detailsUrl:o.a.string,previewUrl:o.a.string,smallPreviewUrl:o.a.string,thumbnailUrl:o.a.string,isMarketPlaceItem:o.a.bool.isRequired,distributionType:o.a.string.isRequired,duration:o.a.number,aspectRatio:o.a.number}).isRequired,stockItemFormat:o.a.shape({id:o.a.number,label:o.a.string,prettyLabel:o.a.string,filesize:o.a.string,downloadUrl:o.a.string,downloadAjaxUrl:o.a.string,frameRate:o.a.string,resolution:o.a.string,codec:o.a.string,quality:o.a.string,filename:o.a.string,fileExtension:o.a.string,cost:o.a.number,nonMemberCost:o.a.number}).isRequired,pagination:o.a.shape({currentPageNumber:o.a.number,maxPageNumber:o.a.number,resultsPerPage:o.a.number,totalResults:o.a.number})}},1643:function(e,t,n){},1644:function(e,t,n){},1649:function(e,t,n){},1746:function(e,t,n){},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1),o=n.n(r),a=n(0),i=n.n(a),s=n(302),c=n.n(s);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h,v,y,b=function(e){function t(){return l(this,t),f(this,d(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,o=[{key:"formatDurationForMachines",value:function(e){return c()(1e3*e,"Pm[M]s[S]")}},{key:"formatDurationForHumans",value:function(e){var t=Math.floor(e/60),n=e-60*t,r=t>9?"".concat(t):"0".concat(t),o=n>9?"".concat(n):"0".concat(n);return"".concat(r,":").concat(o)}}],(r=[{key:"render",value:function(){return i.a.createElement("time",{className:"duration",dateTime:t.formatDurationForMachines(this.props.seconds)},t.formatDurationForHumans(this.props.seconds))}}])&&p(n.prototype,r),o&&p(n,o),t}(a.Component);h=b,v="propTypes",y={seconds:o.a.number.isRequired},v in h?Object.defineProperty(h,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[v]=y},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(38),o=(n(523),n(939)),a=n(940),i=n(535);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,c;return t=e,c=[{key:"create",value:function(e){var t=new o.StockItemDisplayEvent;return t.meta=r.a.meta(),t.device=r.a.device(),t.user=r.a.user(),t.searchIdentifiers=r.a.searchIdentifiers(),t.urls=r.a.urls(),t.stockItems=e,t}},{key:"displayedStockItem",value:function(e,t){var n=new a.DisplayedStockItem;return n.stockItem=i.a.create(e),n.position=t,n}}],(n=null)&&s(t.prototype,n),c&&s(t,c),e}()},32:function(e,t,n){"use strict";var r=n(2),o=n(0),a=n.n(o),i=n(948),s=n.n(i),c=n(529),u=(n(1746),n(38)),l=n(4);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return m(this,t),v(this,y(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return u.a.telemetry.increment("nps.modal.rendered"),a.a.createElement(s.a,{mainQuestion:"How likely are you to recommend "+this.props.siteFullName+" to a friend or colleague?",promoterFollowUpQuestion:"We're so happy you're happy! We'd love to hear more about your experience:",neutralFollowUpQuestion:"Thanks for your feedback!  Could you please tell us more about your experience?",detractorFollowUpQuestion:"We're sorry you aren't totally satisfied. Could you please tell us more about your experience?",maxScore:10,detractorUpperBound:6,promoterLowerBound:9,onScoreClick:function(t,n){var r=l.e.buildInstance().getNPSBasePath()+"/"+e.props.surveyId+"/"+e.props.memberUniqueId+"/"+t+"?context="+e.props.context+"&ajax=1",o=fetch(new Request(r,{method:"GET"}));e.props.dispatch(Object(c.b)(o)),u.a.telemetry.gauge("nps.modal.scored",t)},onCommentSubmit:function(t,n){u.a.telemetry.increment("nps.modal.commented"),e.props.responsePromise.then((function(e){e.ok&&e.json().then((function(e){var n=new URLSearchParams;n.append("response_id",e.responseId),n.append("comment",t),fetch(l.e.buildInstance().getNPSBasePath(),{body:n,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}))}))}})}}])&&h(n.prototype,r),o&&h(n,o),t}(o.Component);t.a=Object(r.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.npsModal)}))(g)},377:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),s=n(2),c=n(33),u=n.n(c),l=n(18),p=n(21),f=n(129),d=n(27),m=n(5),h=n(20),v=n(218),y=n(13);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=k(t).call(this,e),n=!o||"object"!==b(o)&&"function"!=typeof o?w(r):o,O(w(n),"componentDidMount",(function(){window.addEventListener("resize",n.hideFavoriteButtonPopOver),document.addEventListener("scroll",n.hideFavoriteButtonPopOver)})),O(w(n),"componentWillUnmount",(function(){window.removeEventListener("resize",n.hideFavoriteButtonPopOver),document.removeEventListener("scroll",n.hideFavoriteButtonPopOver)})),O(w(n),"hideFavoriteButtonPopOver",(function(){n.refs.favoritePopover.hide()})),O(w(n),"handleClickAddToBin",(function(e){0===e.stockItemIds.filter((function(e){return n.props.stockItemId===e})).length?(n.props.dispatch(Object(l.d)(e.uniqueId,n.props.stockItemId,{stockItem:n.props.stockItem,stockItemFormats:n.props.stockItemFormats})),Object(p.b)('Added to "'.concat(e.name,'"')),y.Telemetry.increment("favorite.added.search")):(n.props.dispatch(Object(d.b)(e.uniqueId,[n.props.stockItemId])),Object(p.b)('Removed from "'.concat(e.name,'"')),y.Telemetry.increment("favorite.removed.search")),n.hideFavoriteButtonPopOver(),n.props.onIsNotHovering()})),O(w(n),"handleClickCreateNewBinButton",(function(e){var t=n.props,r=t.isInSharedFoldersBeta,o=t.stockItemId;r?n.props.dispatch(Object(h.c)(v.a,{title:"Create a new folder",buttonText:"Create",isInSharedFoldersBeta:r,inputBinName:e,stockItemId:o,buttonAction:function(e,t,r){n.props.dispatch(Object(l.c)(e,r,t))}})):n.props.dispatch(Object(l.c)(e,o)),n.hideFavoriteButtonPopOver()})),O(w(n),"favIconUrl",(function(){return m.o(n.props.bins,n.props.stockItemId)?n.props.favIconFilled:n.props.favIconEmpty})),n.state={searchText:"",bins:n.convertBinFromObjectToArray(n.props.bins)},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){this.setState({bins:this.convertBinFromObjectToArray(e.bins)})}},{key:"convertBinFromObjectToArray",value:function(e){return Object.keys(e).map((function(t){return e[t]}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"favorite-symbol"},i.a.createElement(u.a,{ref:"favoritePopover",trigger:"click",rootClose:!0,placement:"left",overlay:this.getPopover()},i.a.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.logClickedEvent()}},i.a.createElement("img",{alt:"Favorite heart icon",className:m.o(this.props.bins,this.props.stockItemId)?"in-bin":null,src:this.favIconUrl()}))))}},{key:"getPopover",value:function(){return i.a.createElement(f.a,{bins:this.props.bins,title:"Find or Create Folder",binClickedCallback:this.handleClickAddToBin,createNewClickedCallback:this.handleClickCreateNewBinButton,stockItemId:this.props.stockItemId,onIsHovering:this.props.onIsHovering,onIsNotHovering:this.props.onIsNotHovering,showAllButton:!0})}},{key:"logClickedEvent",value:function(){y.Telemetry.increment("favorite.clicked.search"),this.props.logEventHandler()}}])&&g(n.prototype,r),o&&g(n,o),t}(a.Component);O(S,"defaultProps",{favIconEmpty:"/assets/common/images/icons/stock-item-cards/sb-favorite-outline.svg",favIconFilled:"/assets/common/images/icons/stock-item-cards/sb-favorite-filled.svg",isInSharedFoldersBeta:!1}),O(S,"propTypes",{stockItemId:o.a.number.isRequired,stockItem:o.a.object.isRequired,stockItemFormats:o.a.array.isRequired,bins:o.a.oneOfType([o.a.object,o.a.array]).isRequired,context:o.a.string.isRequired,isInSharedFoldersBeta:o.a.bool,onIsHovering:o.a.func,onIsNotHovering:o.a.func,favIconFilled:o.a.string.isRequired,favIconEmpty:o.a.string.isRequired,logEventHandler:o.a.func}),t.a=Object(s.connect)((function(e,t){return{bins:Object.keys(e.memberBins.bins).map((function(t){return e.memberBins.bins[t]})),isInSharedFoldersBeta:e.memberBins.isInSharedFoldersBeta}}))(S)},378:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(575);var r=n(937),o=n.n(r);function a(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)}))}}function s(e,t){return c.apply(this,arguments)}function c(){return(c=i(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o()(t,1);case 2:return e.abrupt("return",n());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},379:function(e,t,n){"use strict";var r=n(38),o=n(303);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"events",r.a),s(this,"displayedStockItemBuffer",[]),s(this,"pushTimer",null),s(this,"TIMER_MS",500)}var t,n,c;return t=e,(n=[{key:"push",value:function(e){this.displayedStockItemBuffer.push(e),this.setTimer()}},{key:"fire",value:function(){this.clearTimer();var e=this.clearBuffer(),t=o.a.create(e);this.events.produce(t)}},{key:"clearBuffer",value:function(){var e=a(this.displayedStockItemBuffer);return this.displayedStockItemBuffer=[],e}},{key:"setTimer",value:function(){var e=this;this.pushTimer&&this.clearTimer(),this.pushTimer=setTimeout((function(){return e.fire()}),this.TIMER_MS)}},{key:"clearTimer",value:function(){clearTimeout(this.pushTimer),this.pushTimer=null}}])&&i(t.prototype,n),c&&i(t,c),e}());t.a=c},384:function(e,t,n){"use strict";n(1646);var r=n(3),o=n.n(r),a=n(155),i=n.n(a),s=n(544),c=n.n(s),u=n(1),l=n.n(u),p=n(0),f=n.n(p),d=n(33),m=n.n(d),h=n(161),v=n.n(h),y=n(2),b=n(6),g=n(19),k=n(36),w=n.n(k);function I(e,t){if(window.sessionStorage){var n=O(),r=n.lastListened?new Date(n.lastListened):new Date,o=n.stockItemIds||[];E(r)>=7&&(o=[]),!t&&n.isLoggedIn&&(o=[]),o.push(e),n.stockItemIds=o,n.lastListened=new Date,n.isLoggedIn=t,window.sessionStorage.setItem("playedClips",JSON.stringify(n))}}function O(){return JSON.parse(window.sessionStorage.getItem("playedClips"))||{}}function S(){if("function"==typeof hj){var e=w.a.load("audio_survey",!1)||null;(!e||E(e)>=14)&&(hj("trigger","search_difficulty"),w.a.save("audio_survey",new Date,{path:"/",domain:"."+window.location.hostname}))}}function C(e){if("function"==typeof hj&&e&&!JSON.parse(window.sessionStorage.getItem("visitor_library_quality"))){var t=O();(t.stockItemIds?t.stockItemIds.length:0)>=10&&(hj("trigger","visitor_library_quality"),window.sessionStorage.setItem("visitor_library_quality",JSON.stringify(!0)))}}function E(e){return Math.floor(Math.abs(Date.parse(e)-new Date)/1e3/86400)}var P=n(11),T=n(160),j=n(204),D=n(377),_=n(16),N=n(26),F=n(162),B=n(12),A=n(5),x=n(97),U=n(159),L=n(176);n(1649);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?Z(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){function t(){var e,n;H(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return J(Z(n=q(this,(e=W(t)).call.apply(e,[this].concat(o)))),"state",{hoverTopDropZone:0,hoverBottomDropZone:0}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return f.a.createElement("div",{className:"verticalDraggableStockItemCardOverlay",draggable:!0,onDragStart:this.loadEventDataWithDragee()},f.a.createElement("div",{className:"verticalDraggableStockItemCardOverlay-dropToTopZone",onDragOver:this.preventDefaultOnDragOver(),onDragEnter:this.hoverOverTopDropZone(),onDragLeave:this.unhoverOverTopDropZone(),onDrop:this.handleReorderingDrop(!0)}),f.a.createElement("div",{className:"verticalDraggableStockItemCardOverlay-dropToBottomZone",onDragOver:this.preventDefaultOnDragOver(),onDragEnter:this.hoverOverBottomDropZone(),onDragLeave:this.unhoverOverBottomDropZone(),onDrop:this.handleReorderingDrop(!1)}),this.state.hoverTopDropZone>0?this.renderTopInsertLine():null,this.state.hoverBottomDropZone>0?this.renderBottomInsertLine():null,this.props.children)}},{key:"loadEventDataWithDragee",value:function(){var e=this;return function(t){t.dataTransfer.setData("text/plain",e.props.stockItemId)}}},{key:"handleReorderingDrop",value:function(e){var t=this;return function(n){t.setState({hoverTopDropZone:0,hoverBottomDropZone:0});var r=parseInt(n.dataTransfer.getData("text"));t.props.dropOntoHandler(r,t.props.stockItemId,e)}}},{key:"hoverOverTopDropZone",value:function(){var e=this;return function(){e.setState({hoverTopDropZone:e.state.hoverTopDropZone+1})}}},{key:"unhoverOverTopDropZone",value:function(){var e=this;return function(){e.setState({hoverTopDropZone:e.state.hoverTopDropZone-1})}}},{key:"hoverOverBottomDropZone",value:function(){var e=this;return function(){e.setState({hoverBottomDropZone:e.state.hoverBottomDropZone+1})}}},{key:"unhoverOverBottomDropZone",value:function(){var e=this;return function(){e.setState({hoverBottomDropZone:e.state.hoverBottomDropZone-1})}}},{key:"preventDefaultOnDragOver",value:function(){return function(e){e.preventDefault()}}},{key:"renderTopInsertLine",value:function(){return f.a.createElement("div",{className:"verticalDraggableStockItemCardOverlay-insertTopLine"})}},{key:"renderBottomInsertLine",value:function(){return f.a.createElement("div",{className:"verticalDraggableStockItemCardOverlay-insertBottomLine"})}}])&&M(n.prototype,r),o&&M(n,o),t}(p.Component);J(V,"propTypes",{stockItemId:l.a.number,dropOntoHandler:l.a.func});var z=V,Q=(n(863),n(50)),K=n(13),X=n(378),Y=n(379),$=n(303);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ne(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?se(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=function(e){function t(){var e,n;re(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return ue(se(n=ae(this,(e=ie(t)).call.apply(e,[this].concat(o)))),"controller",null),ue(se(n),"state",{isHovering:!1,isPlaying:!1,waveformData:null,showDownloadOptions:!1,hasBeenPlayed:!1}),ue(se(n),"hideDownloadOptions",(function(e){(n.downloadButton&&!n.downloadButton.contains(e.target)&&n.state.showDownloadOptions||e.target.classList.contains("download-option"))&&n.setState({showDownloadOptions:!1})})),ue(se(n),"handleMouseEnter",(function(){n.handleIsHovering()})),ue(se(n),"handleIsHovering",(function(){n.setState({isHovering:!0,hoverStartTime:Date.now()}),n.props.page&&n.props.dispatch(Object(B.n)(n.props.page,n.props.stockItem.id))})),ue(se(n),"handleIsNotHovering",(function(){n.setState({isHovering:!1,playStartTime:null}),n.logHoverDone()})),ue(se(n),"handleMouseLeave",(function(){n.handleIsNotHovering()})),ue(se(n),"renderControls",(function(){var e,t,r;return n.isCurrentSource()&&n.props.isPlaying?(r="pause",e=function(e){return n.handlePause(e)},t="/assets/audioblocks/images/icons/pause.svg"):(r="play",e=function(e){return n.handlePlay(e)},t="/assets/audioblocks/images/icons/play.svg"),f.a.createElement("div",{className:"stock-item-controls"},f.a.createElement("div",{className:"play-button",href:"#",onClick:e},f.a.createElement("div",{className:"play-button-image-wrapper"},f.a.createElement("img",{className:r,src:"".concat(t)}))))})),ue(se(n),"handlePlay",(function(e){e.preventDefault(),_.a.logAudioActionEvent("Stock Item Card","Play",n.props.stockItem.id,"button",n.props.currentTime),n.logPlay();var t=n.isCurrentSource()?n.props.currentTime:0;n.props.dispatch(Object(g.k)(n.props.stockItem.previewUrl,t))})),ue(se(n),"logPlay",(function(){var e=n.props,t=e.stockItem,r=e.isLoggedIn;I(t.id,r),C(!n.props.isLoggedIn),n.setState({hasBeenPlayed:!0})})),ue(se(n),"handlePause",(function(e){e.preventDefault(),n.props.dispatch(Object(g.j)())})),ue(se(n),"showDownloadOptions",(function(e){e.stopPropagation(),n.setState({showDownloadOptions:!0})})),ue(se(n),"getPrimaryClickAction",(function(){var e=n.props,t=e.dispatch,r=e.searchLogParameters;return function(e){if(n.logPrimaryClickAction(),n.hideDownloadOptions(e),!n.overrideClickActionsForRedirect()){e.preventDefault();var o=e.target.dataset.format,a=n.getSelectedFormat(o);return K.Telemetry.increment("download.clicked.stockItemCard"),T.a.getInstance().downloadItem(a.downloadUrl,a.downloadAjaxUrl,r,t,n.plansAndPricingUpgradeAvailable()),S(),!1}}})),ue(se(n),"logSecondaryClickAction",(function(){_.a.logStockItemClickEvent("Stock Item Card","Click On Favorite",n.props.stockItem,n.props.stockItemCardContext)})),ue(se(n),"handleProgressClicked",(function(e){var t=Object(A.k)(e),r=n.props.stockItem.duration*t;n.isCurrentSource()&&!n.props.isPlaying||n.props.stockItem.previewUrl!==n.props.currentSource?(n.logPlay(),n.props.dispatch(Object(g.k)(n.props.stockItem.previewUrl,r))):n.props.dispatch(Object(g.i)(r,n.props.stockItem.duration)),_.a.logAudioActionEvent("Stock Item Card","Play",n.props.stockItem.id,"progress",r)})),ue(se(n),"moveSeekLine",(function(e){n.seekLine.style.display="block",n.seekLine.style.left="".concat(100*Object(A.k)(e),"%")})),ue(se(n),"removeSeekLine",(function(){n.seekLine.style.display="none",n.seekLine.style.left=0})),ue(se(n),"onSelectCheckboxClick",(function(){n.props.dispatch(Object(B.k)(n.props))})),ue(se(n),"onArtistClick",(function(e,t){if(K.Telemetry.increment("search.click.artistSearch"),"search"===n.props.context){e.preventDefault();var r=n.props.selectedSearchFilterOptions.artists;if(!r.map((function(e){return e.id})).includes(t.id)){r=[].concat(ne(r),[t]);var o=L.a.getDefaultSearchOptions();o=o.update({searchType:n.props.selectedSearchFilterOptions.searchType,searchOrigin:P.d.ARTIST,artists:r}),n.props.dispatch(Object(B.m)(o))}}})),n}var n,r,a,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),n=t,(r=[{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state||this.isCurrentSource()||this.props.checked!==e.checked||this.props.draggableCard!==e.draggableCard}},{key:"componentDidMount",value:function(){var e=this;this.controller=new AbortController,document.addEventListener("click",this.hideDownloadOptions),this.fetchWaveformData(),this.setState({hasBeenPlayed:this.getHasClipBeenPlayed()}),Object(X.a)(this.containerRef,(function(){var t=e.props.stockItemCardContext||{};_.a.logStockItemDisplayEvent(e.props.stockItem,e.props.stockItemCardContext),t.position&&Y.a.push($.a.displayedStockItem(e.props.stockItem,t.position))}))}},{key:"componentWillUnmount",value:function(){this.controller.abort()}},{key:"fetchWaveformData",value:(s=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.stockItem.nonWatermarkedPreviewUrl||this.props.stockItem.previewUrl,n=t.replace(/_WM|_NWM/,"").replace(".mp3",".json").replace("mp3preview","thumbs").replace("watermarks","thumbnails").replace("previews","thumbnails"),e.prev=2,e.next=5,fetch(n,{signal:this.controller.signal});case 5:r=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return");case 11:return e.prev=11,e.next=14,r.json();case 14:o=e.sent,e.next=35;break;case 17:return e.prev=17,e.t1=e.catch(11),e.prev=19,a=n.split("/"),i=this.props.stockItem.type,a[3]="loop"===i?"loops":i,s=a.join("/"),e.next=26,fetch(s);case 26:return c=e.sent,e.next=29,c.json();case 29:o=e.sent,e.next=35;break;case 32:return e.prev=32,e.t2=e.catch(19),e.abrupt("return");case 35:this.setState({waveformData:o});case 36:case"end":return e.stop()}}),e,this,[[2,8],[11,17],[19,32]])})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=s.apply(e,t);function a(e){te(o,n,r,a,i,"next",e)}function i(e){te(o,n,r,a,i,"throw",e)}a(void 0)}))},function(){return u.apply(this,arguments)})},{key:"addToBinHandler",value:function(e){e.detail.binId===this.props.favoritesBinId&&e.detail.stockItemId===this.props.stockItem.id&&this.props.dispatch(Object(N.b)({stockItemId:this.props.stockItem.id,source:"search"}))}},{key:"render",value:function(){return this.props.draggableCard?f.a.createElement(z,{stockItemId:this.props.stockItem.id,dropOntoHandler:this.props.dropOntoHandler},this.renderCard()):this.renderCard()}},{key:"renderCard",value:function(){var e=this;return f.a.createElement("section",{className:this.getContainerClassNames(),ref:function(t){return e.containerRef=t},"data-stock-id":this.props.stockItem.id,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:this.props.style},this.renderCardContents())}},{key:"getContainerClassNames",value:function(){return o()(this.props.classNames,{"stock-item":!0,"is-selected":this.props.isSelected,"details-player":"detailsPlayer"===this.props.context,playing:this.isCurrentSource()&&this.props.isPlaying,paused:this.isCurrentSource()&&this.props.isPaused,"download-format-selector-visible":this.props.formatSelectorVisible,played:"detailsPlayer"!==this.props.context&&this.state.hasBeenPlayed})}},{key:"renderCardContents",value:function(){return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"left"},this.renderControls(),this.renderMetadata()),f.a.createElement("div",{className:"right"},this.renderWaveform(),this.renderDuration(),this.renderButtons()))}},{key:"renderSelectCheckbox",value:function(){if(this.props.context&&this.props.context.startsWith("Folder-"))return f.a.createElement("input",{type:"checkbox",className:"select-checkbox",onChange:this.onSelectCheckboxClick,checked:!!this.props.checked})}},{key:"renderMetadata",value:function(){var e=this.props.stockItem,t=e.title,n=e.detailsUrl;return f.a.createElement("div",{className:"stock-item-metadata"},f.a.createElement("div",{className:"item-title-wrapper"},f.a.createElement("div",{className:"cutoff-wrapper"},this.renderSelectCheckbox(),this.renderNewFlag(),f.a.createElement("span",{className:this.getTitleClassNames()},"detailsPlayer"===this.props.context?f.a.createElement("span",null,t):f.a.createElement("a",{href:n,"data-selenium-value":t},t)))),this.renderArtists(),this.renderTags())}},{key:"getTitleClassNames",value:function(){return o()({"item-title":!0,paused:this.isCurrentSource()&&this.props.isPaused,playing:this.isCurrentSource()&&this.props.isPlaying})}},{key:"renderArtists",value:function(){var e=this,t=this.props,n=t.shouldShowArtists,r=t.stockItem;if(!n)return null;var o=r.mediaType;return"music"!==o?null:f.a.createElement("div",{className:"artist-wrapper"},f.a.createElement("div",{className:"cutoff-wrapper"},this.props.stockItemArtists.map((function(t,n){return f.a.createElement(f.a.Fragment,null,n>0&&", ",f.a.createElement("a",{href:"/royalty-free-audio?media-type=".concat(o,"&artist_ids=").concat(t.id),className:"artist",onClick:function(n){return e.onArtistClick(n,t)}},"".concat(t.firstName," ").concat(t.lastName)))}))))}},{key:"renderTags",value:function(){return f.a.createElement("div",{className:"tags"},this.renderMediaTypeTag(),this.renderTopTags())}},{key:"renderNewFlag",value:function(){return this.props.stockItem.shouldStockItemHaveNewFlag&&f.a.createElement("span",{className:"new-tag"},"NEW")}},{key:"renderMediaTypeTag",value:function(){var e=this.props.stockItem.type;if("music"===e)return null;var t=o()({"media-type-tag":!0,loop:"loop"===e,sfx:"sfx"===e}),n="loop"===e?"Loops":"SFX";return f.a.createElement("span",{className:t},n)}},{key:"renderTopTags",value:function(){var e=this;if(this.props.topTags){var t=this.props,n=t.stockItem,r=t.topTags.sort((function(e,t){return parseFloat(e.tag_position)-parseFloat(t.tag_position)})),o=n.mediaType;return f.a.createElement("div",{className:"top-tags"},r.filter((function(e){return e.tag_name})).map((function(t){var n="/royalty-free-audio?media-type=".concat(o,"&categories=").concat(t.tag_url_id,"&search-origin=").concat(P.d.STOCK_ITEM_CARD);return f.a.createElement("span",{className:"tag-wrapper",key:t.tag_name},f.a.createElement("a",{className:"tag",href:n,onClick:function(n){return e.onTopTagClick(n,t.tag_id,t.tag_type)}},t.tag_name))})))}return null}},{key:"onTopTagClick",value:function(e,t,n){if("search"===this.props.context){e.preventDefault();var r=this.getSelectedCategoriesArrayNameByType(n);if(!this.props.selectedSearchFilterOptions[r].includes(t)){var o=L.a.getDefaultSearchOptions().update(ue({searchType:this.getSelectedTagTypeName(n),"media-type":this.getSelectedTagTypeName(n),searchOrigin:P.d.STOCK_ITEM_CARD},r,[t]));this.props.dispatch(Object(B.m)(o))}}}},{key:"getSelectedCategoriesArrayNameByType",value:function(e){switch(e){case 1:return"musicMoods";case 2:return"musicGenres";case 3:return"musicInstruments";case 4:return"sfxCategories";case 5:return"loopInstruments";default:return null}}},{key:"getSelectedTagTypeName",value:function(e){switch(e){case 1:case 2:case 3:return"music";case 4:return"sfx";case 5:return"loops";default:return null}}},{key:"renderWaveform",value:function(){var e=this;return f.a.createElement("div",{className:"stock-item-waveform",onMouseMove:function(t){return e.moveSeekLine(t)},onMouseLeave:function(){return e.removeSeekLine()},onClick:function(t){return e.handleProgressClicked(t)}},f.a.createElement("div",{className:"seek-line",ref:function(t){return e.seekLine=t}}),this.renderWaveformImage())}},{key:"renderWaveformImage",value:function(){if(this.state.waveformData){var e=this.state.waveformData.left,t=this.state.waveformData.right,n=c()(i()(e,(function(e){return parseFloat(e)}))),r=c()(i()(e,(function(e){return parseFloat(e)}))),o=i()(e,(function(e,t){return t%2==0?"l 0,-".concat(e," l 1,0 l 0,").concat(e," l -1,0 m 2,0"):null})),a=i()(t,(function(e,t){return t%2==0?"l 0,".concat(e," l 1,0 l 0,-").concat(e," l -1,0 m 2,0"):null})),s=2*Math.ceil(c()([n,r])),u="0 0 1001 ".concat(s),l="M 0,".concat(s/2," ").concat(o.join(" ")," M 0,").concat(s/2," ").concat(a.join(" ")," Z"),p=this.isCurrentSource()?this.props.currentTime/this.props.stockItem.duration:0,d=this.getWaveformGradientId(),m={fill:"url(#".concat(d,")")};return f.a.createElement("svg",{viewBox:u,xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},f.a.createElement("defs",null,f.a.createElement("linearGradient",{id:d},f.a.createElement("stop",{offset:p,stopColor:"#08ADFF"}),f.a.createElement("stop",{offset:p,stopColor:"#A6A6A6"}))),f.a.createElement("path",{d:l,style:m}))}return null}},{key:"getWaveformGradientId",value:function(){return"progress-".concat(this.props.stockItem.id)}},{key:"getHasClipBeenPlayed",value:function(){if(window.localStorage){var e=O().stockItemIds||[];return this.props.hasBeenPlayed||e.includes(this.props.stockItem.id)}return!1}},{key:"renderDuration",value:function(){return f.a.createElement("div",{className:"stock-item-duration"},f.a.createElement("span",{className:"duration"},j.a.formatDurationForHumans(this.props.stockItem.duration)))}},{key:"renderButtons",value:function(){return f.a.createElement("div",{className:"stock-item-buttons"},this.renderFavoriteButton(),this.renderDownloadButton())}},{key:"renderFavoriteButton",value:function(){if(!1!==this.props.shouldShowAddToFavorites){var e=f.a.createElement(v.a,{id:"tooltip-favorite",onMouseEnter:this.handleIsHovering},"Favorite");return this.props.useSubscriptionlessSignUpEnticement?this.renderVisitorFolderEnticement(e):f.a.createElement(m.a,{placement:"left",overlay:e},f.a.createElement("div",{className:"favorite-button"},f.a.createElement(D.a,{context:this.props.context,onIsHovering:this.handleIsHovering,favIconEmpty:"/assets/common/images/icons/stock-item-cards/sb-favorite-outline-black.svg",onIsNotHovering:this.handleIsNotHovering,stockItemId:this.props.stockItem.id,stockItem:this.props.stockItem,stockItemFormats:this.props.stockItemFormats,logEventHandler:this.logSecondaryClickAction,isInSharedFoldersBeta:this.props.isInSharedFoldersBeta})))}}},{key:"renderVisitorFolderEnticement",value:function(e){return f.a.createElement(x.a,{onClick:function(){return K.Telemetry.increment("favorite.clicked.search")}},{clickToOpen:f.a.createElement(m.a,{placement:"left",overlay:e},f.a.createElement("div",{className:"favorite-button"},f.a.createElement("img",{src:__ASSETS_COMMON_IMAGES_URL__+"/icons/stock-item-cards/sb-favorite-outline-black.svg"}))),opensOnClick:f.a.createElement(U.a,{stockItemId:this.props.stockItem.id})})}},{key:"renderDownloadButton",value:function(){var e=this;if(!1===this.props.shouldShowDownloadButton)return null;if(!this.props.isLoggedIn)return f.a.createElement("a",{className:"download-button action-download",href:this.props.stockItem.detailsUrl},f.a.createElement(b.i,{color:"#fff"}));var t=f.a.createElement(v.a,{id:"tooltip-favorite",onMouseEnter:this.handleIsHovering},this.isSubscriptionlessUser()?"Download Preview":"Download");if(this.isSubscriptionlessUser())return f.a.createElement(m.a,{placement:"left",overlay:t,rootClose:!0},f.a.createElement("div",{className:"download-button action-download",onClick:this.buildWatermarkedPreviewDownloadHandler(),ref:function(t){return e.downloadButton=t}},f.a.createElement(b.i,{color:"#fff"})));var n=f.a.createElement("div",{className:"download-button action-download",onClick:this.showDownloadOptions,ref:function(t){return e.downloadButton=t}},f.a.createElement(b.i,{color:"#fff"}),this.renderDownloadOptions());return f.a.createElement(m.a,{placement:"left",overlay:t,rootClose:!0},n)}},{key:"buildWatermarkedPreviewDownloadHandler",value:function(){var e=Object(Q.b)(this.props.stockItem.id,Q.e);return function(){K.Telemetry.increment("preview.downloaded.stockItemCard"),e()}}},{key:"isSubscriptionlessUser",value:function(){return this.props.isLoggedIn&&!this.props.subscription}},{key:"renderDownloadOptions",value:function(){if(this.state.showDownloadOptions)return f.a.createElement("div",{className:"download-options"},this.renderDownloadOption(P.g.MP3),this.renderDownloadOption(P.g.WAV))}},{key:"renderDownloadOption",value:function(e){var t=this.props.stockItemFormats.find((function(t){return t.formatName===e}));return f.a.createElement("a",{className:this.getDownloadOptionClassName(e),onClick:this.getPrimaryClickAction(),"data-download-url":t.downloadAjaxUrl,"data-promo-context":P.c.cardDownload,"data-format":e,href:this.props.stockItem.detailsUrl},e)}},{key:"getDownloadOptionClassName",value:function(e){return"download-option download-item-".concat(e.toLowerCase())}},{key:"logPrimaryClickAction",value:function(){_.a.logStockItemClickEvent("Stock Item Card","Click On Download",this.props.stockItem,this.props.stockItemCardContext)}},{key:"overrideClickActionsForRedirect",value:function(){return!this.props.subscription}},{key:"getSelectedFormat",value:function(e){return this.props.stockItemFormats.find((function(t){return t.formatName===e}))}},{key:"logHoverDone",value:function(){if(this.state.hoverStartTime){var e={hoverDuration:Date.now()-this.state.hoverStartTime,playDuration:this.props.playStartTime?Date.now()-this.props.playStartTime:0};_.a.logStockItemHoverEvent(this.props.stockItem,this.props.stockItemCardContext,e)}}},{key:"plansAndPricingUpgradeAvailable",value:function(){return!!this.props.plansAndPricingUpgradeInfo}},{key:"isCurrentSource",value:function(){return this.props.stockItem.previewUrl===this.props.currentSource}}])&&oe(n.prototype,r),a&&oe(n,a),t}(p.Component);ue(le,"propTypes",{stockItem:F.a.stockItem,stockItemFormats:l.a.arrayOf(F.a.stockItemFormat).isRequired,isSelected:l.a.bool,searchLogParameters:l.a.object,style:l.a.object,classNames:l.a.arrayOf(l.a.string),shouldShowAddToFavorites:l.a.bool,checked:l.a.bool,onSelectCheckboxClick:l.a.func,page:l.a.number,favoritesBinId:l.a.number,context:l.a.string,stockItemCardContext:l.a.object,member:l.a.object,subscription:l.a.object,draggableCard:l.a.bool,dropOntoHandler:l.a.func,isInSharedFoldersBeta:l.a.bool,shouldShowDownloadButton:l.a.bool,useSubscriptionlessSignUpEnticement:l.a.bool,shouldStockItemHaveNewFlag:l.a.bool,selectedSearchFilterOptions:l.a.object,topTags:l.a.arrayOf(l.a.object),shouldShowArtists:l.a.bool,stockItemArtists:l.a.arrayOf(l.a.object)}),ue(le,"defaultProps",{draggableCard:!1,hasBeenPlayed:!1,isInSharedFoldersBeta:!1,shouldShowDownloadButton:!0,shouldShowArtists:!0});t.a=Object(y.connect)((function(e,t){var n=e.app.search,r=n.selectedStockItem;return{selectedFormatId:r.id===t.stockItem.id?r.selectedFormatId:-1,currentSource:e.audio.audioSourceUrl,currentTime:e.audio.currentTime,duration:e.audio.duration,isPlaying:e.audio.isPlaying,isPaused:e.audio.isPaused,playStartTime:e.audio.playStartTime,plansAndPricingUpgradeInfo:e.popUps.instanceSpecificInfo.plansAndPricingUpgradeInfo,member:n.member,subscription:e.auth.subscription,isInSharedFoldersBeta:e.memberBins.isInSharedFoldersBeta,isLoggedIn:e.auth.isLoggedIn,selectedSearchFilterOptions:n.selectedSearchFilterOptions}}))(le)},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return m}));var r=n(160),o=n(5),a=n(16),i=function(e,t,n){return function(r){e(r)?t(r):n(r)}},s=function(e){window.location.href=e.details.features.signUpLink},c=function(e){a.a.logStockItemClickEvent("Stock Item Details","Click On Download",e.stockItem),r.a.getInstance().downloadItem(e.details.selectedAcquisitionOption.downloadUrl,e.details.selectedAcquisitionOption.downloadAjaxUrl,void 0,e.dispatch,!!e.popUps.instanceSpecificInfo.plansAndPricingUpgradeInfo)},u=function(e){a.a.logStockItemClickEvent("Stock Item Details","Click On Export to Cloud",e.stockItem),r.a.getInstance().exportItem("".concat(e.exportUrl),e.dispatch,e.exportSubfolder)},l=function(e){var t=e.details.selectedAcquisitionOption;r.a.getInstance().downloadItem(t.downloadUrl,t.downloadAjaxUrl,null,e.dispatch)},p=function(e){f(e.details.stockItem.id)},f=function(e){window.location=o.h(e)},d=function(e){var t=e.details.selectedAcquisitionOption,n={files:[{url:window.location.protocol+"//"+window.location.hostname+t.downloadDropboxUrl,filename:t.filename}],success:function(){swal("The file was saved to your Dropbox account successfully.")},error:function(){swal("An error has occurred and the file cannot be saved to Dropbox. Please try again.")}};Dropbox.save(n)},m=function(e){window.location=e.details.features.reactivationRoute};t.b=function(e,t){return function(){return t(e)}}},534:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(1),o=n.n(r),a=n(0),i=n.n(a),s=n(6);n(1644);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?d(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){var e,n;u(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return h(d(n=p(this,(e=f(t)).call.apply(e,[this].concat(o)))),"componentDidMount",(function(){document.addEventListener("mousedown",n.handleClickOutside.bind(d(n)))})),h(d(n),"componentWillUnmount",(function(){document.removeEventListener("mousedown",n.handleClickOutside.bind(d(n)))})),h(d(n),"handleClickOutside",(function(e){n.signUpPopUp&&!n.signUpPopUp.contains(e.target)&&n.props.dismissHandler()})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.type;return i.a.createElement("div",{className:"".concat("preview"===t?"previewPopover":"favoritePopover"),ref:function(t){e.signUpPopUp=t}},i.a.createElement(s.m,{showTriangle:!1,trianglePosition:null,onCloseClick:this.props.dismissHandler,id:"hi"},i.a.createElement("div",{className:"signUpForFeaturePopover"},i.a.createElement("h5",{className:"signUpForFeaturePopover-title"},this.props.tagLine),i.a.createElement("a",{href:"/join/become-user/"+this.postSignUpInstructions()},i.a.createElement(s.n,{className:"signUpForFeaturePopover-cta"},"Create a free account")),i.a.createElement("p",{className:"signUpForFeaturePopover-login"},"Already a member? ",i.a.createElement("a",{className:"signUpForFeaturePopover-loginLink",href:"/login"},"Log In")))))}},{key:"postSignUpInstructions",value:function(){return encodeURIComponent(this.props.postSignUpUrl)}}])&&l(n.prototype,r),o&&l(n,o),t}(a.Component);h(v,"propTypes",{dismissHandler:o.a.func,postSignUpUrl:o.a.string,tagLine:o.a.string,type:o.a.string})},535:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(941);n(1645);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"create",value:function(t){var n=new r.ShallowStockItem;return n.stockItemId=t.id,n.title=t.title,n.distributionType="ML"===t.distributionType?"MEMBER_LIBRARY":"REV_SHARE",n.contentType=e.contentType(t.contentType),n.publishedDate=Date.parse(t.dateAdded)||0,n.format=null,n}},{key:"contentType",value:function(e){return({sfx:"SOUND_EFFECTS",loop:"LOOPS",illustration:"ILLUSTRATIONS",photo:"PHOTOS",template:"TEMPLATES",motionbackground:"MOTION_BACKGROUNDS",vector:"VECTORS"}[e.toLowerCase()]||e).toUpperCase()}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}()},863:function(e,t,n){},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),o=n.n(r),a=n(1),i=n.n(a);n(1643);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?f(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){var e,n;c(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return m(f(n=l(this,(e=p(t)).call.apply(e,[this].concat(o)))),"state",{isOpen:!1}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"openOnClickOverlay"},o.a.createElement("div",{className:"openOnClickOverlay-clickListener",onClick:this.toggleOpenStatusHandler()},this.props.children.clickToOpen),o.a.createElement("div",{className:"openOnClickOverlay-popOpenWrapper"},this.state.isOpen?o.a.cloneElement(this.props.children.opensOnClick,{dismissHandler:this.toggleOpenStatusHandler()}):null))}},{key:"toggleOpenStatusHandler",value:function(){var e=this;return function(){e.props.onClick&&e.props.onClick(),e.setState({isOpen:!e.state.isOpen})}}}])&&u(n.prototype,r),a&&u(n,a),t}(r.Component);m(h,"propTypes",{onClick:i.a.func})}}]);