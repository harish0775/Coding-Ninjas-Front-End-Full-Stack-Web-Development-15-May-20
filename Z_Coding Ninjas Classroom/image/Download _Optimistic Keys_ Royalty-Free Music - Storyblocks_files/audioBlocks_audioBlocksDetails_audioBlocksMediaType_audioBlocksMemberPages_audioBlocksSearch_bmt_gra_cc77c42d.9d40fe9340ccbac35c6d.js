(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{118:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=o.a.shape({shouldShowAddressFields:o.a.bool.isRequired,shouldShowCvvDescription:o.a.bool.isRequired,shouldShowZipFieldOnly:o.a.bool.isRequired,shouldShowNameField:o.a.bool.isRequired,useTextTooltipForCvvPopup:o.a.bool.isRequired,shouldShowPinField:o.a.bool.isRequired,googleCaptchaKey:o.a.string,postNewCreditCardOnSave:o.a.bool.isRequired,fieldLabels:o.a.shape({stateLabel:o.a.string,zipLabel:o.a.string,cvvLabel:o.a.string.isRequired,defaultStateValue:o.a.string,defaultCountryValue:o.a.string,pinLabel:o.a.string}).isRequired,countries:o.a.arrayOf(o.a.shape({abbreviation:o.a.string,name:o.a.string})),states:o.a.arrayOf(o.a.shape({abbreviation:o.a.string,name:o.a.string}))}),i=o.a.shape({configuration:o.a.shape({braintreeClientToken:o.a.string.isRequired,paypalClientId:o.a.string.isRequired,paypalEnvironment:o.a.string.isRequired}),paymentMethodLabel:o.a.string,paymentMethodNonceLabel:o.a.string,firstNameLabel:o.a.string,lastNameLabel:o.a.string,shouldShowPaypalButton:o.a.bool}),s=o.a.shape({creditCard:a,paypal:i}),c=o.a.shape({isTokenDeleted:o.a.bool,isTokenValid:o.a.bool,paymentMethodType:o.a.number,siteForExistingPaymentMethod:o.a.string,tokenDetails:o.a.shape({creditCardLastFour:o.a.string,creditCardExpMonth:o.a.number,creditCardExpYear:o.a.number,creditCardType:o.a.string})});t.a={paymentMethodConfiguration:s,paymentToken:c,creditCardConfiguration:a,paypalConfiguration:i}},129:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(455),c=n.n(s),l=n(936),u=n.n(l),p=n(8),d=n(343),m=n(2),f=n(5),h=n(20),y=n(131),b=n(6),v=n(23),g=n.n(v),C=n(4);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=k(t).call(this,e),n=!a||"object"!==w(a)&&"function"!=typeof a?S(r):a,_(S(n),"filterKeywordChanged",(function(e){n.props.dispatch(Object(p.createAction)(d.a.MEMBER_BIN_POPOVER_KEYWORD_CHANGED)(e.target.value))})),_(S(n),"getCreateNewBinButton",(function(){var e=n.props.bins.map((function(e){return e.name.toLowerCase()})),t=n.props.searchText||"";return""!==t&&e.indexOf(t.trim().toLowerCase())<0?o.a.createElement("span",{className:"binPopoverCard",onClick:function(){return n.handleCreateNewClicked(n.props.searchText)}},o.a.createElement("span",{className:"add-new-bin-button"},o.a.createElement("i",{className:"fa fa-plus"})),o.a.createElement("span",{className:"new-bin-text"},"'",n.props.searchText,"'")):null})),_(S(n),"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,o=t.name;n.setState(_({},o,r))})),_(S(n),"handleCreateNewClicked",(function(e){n.props.dispatch(Object(p.createAction)(d.a.MEMBER_BIN_POPOVER_BIN_CLICKED)(e)),n.props.createNewClickedCallback(e)})),_(S(n),"handleBinClicked",(function(e){n.props.dispatch(Object(p.createAction)(d.a.MEMBER_BIN_POPOVER_BIN_CLICKED)(e.uniqueId)),n.props.binClickedCallback(e)})),_(S(n),"binHasSearchTerm",(function(e){return!n.props.searchText.trim()||(n.binHasKeyword(e)||n.binHasOwnerName(e))})),_(S(n),"filterOutSharedBin",(function(e){return!n.state.shouldShowYourFoldersOnly||e.isOwnedByMe})),_(S(n),"handleTeamFolderButtonClicked",(function(){n.props.dispatch(Object(h.c)(y.a,{})),Logger.logClickEvent("SharedFoldersDemand","Click MemberBinPopOver TeamFolderButton")})),_(S(n),"handleTeamFolderOptIn",(function(){Logger.logClickEvent("SharedFoldersDemand","Click MemberBinPopOver OptInButton"),n.setState({hasClosedBanner:!0}),n.props.dispatch(Object(h.b)(y.a,{}))})),_(S(n),"handleTeamFolderOptOut",(function(){Logger.logClickEvent("SharedFoldersDemand","Click MemberBinPopOver OptOutButton"),n.setState({hasClosedBanner:!0}),n.props.dispatch(Object(h.b)(y.a,{}))}));var i=Object.keys(e.bins).map((function(t){return e.bins[t]}));return n.state={searchText:"",bins:i},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return this.props.shouldUseBootstrapPopover?this.renderPopoverWithSearchAndCards():this.renderSearchAndCards()}},{key:"renderSearchAndCards",value:function(){var e=this,t=Object.values(this.props.bins).filter(this.binHasSearchTerm).filter(this.filterOutSharedBin).sort(T).map((function(t){var n=1===t.itemCount?"item":"items";return o.a.createElement("span",{key:t.uniqueId,className:"binPopoverCard",onClick:function(){return e.handleBinClicked(t)}},o.a.createElement("img",{className:"binPopoverCard-thumbnail",src:t.thumbnailUrl||f.j()}),o.a.createElement("div",{className:"binPopoverCard-info"},o.a.createElement("span",{className:"binPopoverCard-name"},t.name," "),o.a.createElement("span",{className:"binPopoverCard-numItems"},o.a.createElement("span",{className:"binPopoverCard-count"}," ",t.itemCount)," ",n,e.renderSharedIndicator(t.isShared))),t.stockItemIds.indexOf(e.props.stockItemId)>-1?e.renderExistsIndicator():"")}));return o.a.createElement("div",{className:"memberBinsPopover",style:this.props.style},o.a.createElement(c.a,{className:"search-textbox",type:"text",value:this.props.searchText,placeholder:"Type to Add New Folder",onChange:this.filterKeywordChanged,"aria-label":"Input new folder"}),this.renderTeamFolderDemand(),this.renderTeamFolderFilter(),o.a.createElement("div",{className:"binPopover-cards"},this.getCreateNewBinButton(),t),this.props.showAllButton&&o.a.createElement("div",{className:"memberBinsPopover-viewAll"},o.a.createElement("a",{href:C.e.buildInstance().getFoldersBasePath()},"View All Folders â†’")))}},{key:"renderSharedIndicator",value:function(e){return this.props.isInSharedFoldersBeta&&e?o.a.createElement("span",null," (Shared)"):null}},{key:"renderTeamFolderDemand",value:function(){return this.props.shouldShowTeamFolderDemand?o.a.createElement("div",{className:"teamFolderDemand"},"We are making collaboration easier for Enterprise Customers.",o.a.createElement(b.q,{className:"teamFolderDemand-button",onClick:this.handleTeamFolderButtonClicked},"Try Shared Folders"),o.a.createElement(y.b,{onOptInButtonClicked:this.handleTeamFolderOptIn,onOptOutButtonClicked:this.handleTeamFolderOptOut})):null}},{key:"renderTeamFolderFilter",value:function(){return this.props.shouldShowYourFoldersFilter?o.a.createElement("label",{className:"memberBinsPopover-shouldShowYourFoldersOnly"},o.a.createElement("input",{name:"shouldShowYourFoldersOnly",type:"checkbox",checked:this.state.shouldShowYourFoldersOnly,onChange:this.handleInputChange}),o.a.createElement("span",null,"Show my folders only.")):null}},{key:"renderExistsIndicator",value:function(){return o.a.createElement("img",{className:"fav-icon",src:"/assets/common/images/check-mark.svg"})}},{key:"renderPopoverWithSearchAndCards",value:function(){var e=this.props.anchorElement&&this.props.anchorElement.current,t=this.props.positionLeft,n=this.props.placement;return e&&(e.getBoundingClientRect().left<240?(t=e.getBoundingClientRect().right+16,n="right"):t=e.getBoundingClientRect().left-240-16),o.a.createElement(u.a,{id:"member-bin-popover",arrowOffsetLeft:null,arrowOffsetTop:null,className:"redesignedMemberPopover",placement:n,width:240,positionLeft:t,positionTop:this.props.positionTop,title:this.props.title,onMouseEnter:this.props.onIsHovering,onMouseLeave:this.props.onIsNotHovering},this.renderSearchAndCards())}},{key:"binHasKeyword",value:function(e){return e.name.toUpperCase().includes(this.props.searchText.toUpperCase())}},{key:"binHasOwnerName",value:function(e){return!!this.binIsMine(e)||!!e.ownerName&&e.ownerName.toUpperCase().includes(this.props.searchText.toUpperCase())}},{key:"binIsMine",value:function(e){return"ME"===this.props.searchText.toUpperCase()&&e.isOwnedByMe}}])&&O(n.prototype,r),a&&O(n,a),t}(r.Component);function T(e,t){return e.dateUpdated<t.dateUpdated?1:e.dateUpdated>t.dateUpdated?-1:0}_(N,"propTypes",{bins:i.a.oneOfType([i.a.object,i.a.array]).isRequired,title:i.a.string.isRequired,binClickedCallback:i.a.func.isRequired,createNewClickedCallback:i.a.func.isRequired,stockItemId:i.a.number,showAllButton:i.a.bool,onIsHovering:i.a.func,onIsNotHovering:i.a.func,shouldShowYourFoldersFilter:i.a.bool}),_(N,"defaultProps",{shouldUseBootstrapPopover:!0,shouldShowYourFoldersFilter:!1,shouldShowYourFoldersOnly:!1,style:{}}),t.a=Object(m.connect)((function(e){var t=e.app.memberBinPopOver;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{shouldShowTeamFolderDemand:!t.isInSharedFoldersBeta&&(g()(e,"details.features.isEnterpriseMember")||g()(e,"search.features.isEnterpriseMember")),shouldShowYourFoldersFilter:t.isInSharedFoldersBeta})}))(N)},131:function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return E}));var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(6),c=n(127),l=n(128),u=n(187),p=n(374);n(1640);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?b(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function t(){var e,n;m(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return g(b(n=h(this,(e=y(t)).call.apply(e,[this].concat(o)))),"handleOptInButtonClicked",(function(){n.props.onOptInButtonClicked()})),g(b(n),"handleOptOutButtonClicked",(function(){n.props.onOptOutButtonClicked()})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(c.a,{popUpName:E},o.a.createElement(l.a,{popUpName:E}),o.a.createElement(u.a,null,o.a.createElement("div",{id:"teamFolderDemandPopUp"},o.a.createElement(p.a,null),this.renderPopUpContent())))}},{key:"renderPopUpContent",value:function(){return o.a.createElement("div",{className:"teamFolderDemandPopUp-content"},o.a.createElement("div",{className:"teamFolderDemandPopUp-tag"},"COMING SOON"),o.a.createElement("h1",null,"Shared Folders"),o.a.createElement("p",null,"With shared folders, you can automatically sync content in your favorite folders with all members of your organization."),o.a.createElement(s.n,{className:"teamFolderDemandPopUp-OptInButton",onClick:this.handleOptInButtonClicked},"Tell me when this feature is ready"),o.a.createElement(s.k,{className:"teamFolderDemandPopUp-OptOutButton",onClick:this.handleOptOutButtonClicked},"Not interested - I will not use this feature"))}}])&&f(n.prototype,r),a&&f(n,a),t}(r.Component);g(C,"propTypes",{onOptInButtonClicked:i.a.func.isRequired,onOptOutButtonClicked:i.a.func.isRequired});var E="TeamFolderDemandPopUp"},1640:function(e,t,n){},1641:function(e,t,n){},1657:function(e,t,n){},1658:function(e,t,n){},218:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),o=n.n(r),a=n(388),i=n(2),s=n(20),c=n(18),l=n(5);n(1641);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){var e,n;p(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return b(h(n=m(this,(e=f(t)).call.apply(e,[this].concat(o)))),"state",{newBinName:"",folderAccessControl:c.a.PRIVATE}),b(h(n),"confirmAction",(function(){n.props.context.buttonAction(n.state.newBinName,n.state.folderAccessControl,n.props.context.stockItemId),n.props.dispatch(Object(s.b)()),n.setState({newBinName:"",folderAccessControl:c.a.PRIVATE})})),b(h(n),"checkForSubmit",(function(e){"Enter"===e.key&&n.confirmAction()})),b(h(n),"handleAccessControlChange",(function(e){n.setState({folderAccessControl:e})})),b(h(n),"handleBinNameChange",(function(e){n.setState({newBinName:e.currentTarget.value})})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"popUpName",value:function(){return g}},{key:"title",value:function(){return this.props.context?this.props.context.title:""}},{key:"getCustomModalClassNames",value:function(){return["confirm-action"]}},{key:"componentDidUpdate",value:function(e,t,n){!e.context.inputBinName&&this.props.context.inputBinName&&this.setState({newBinName:this.props.context.inputBinName})}},{key:"renderSharedFolderInfo",value:function(){var e=this,t=this.props.context.isCloning?"clone":"create",n="I'd like to ".concat(t," a private folder."),r="I'd like to ".concat(t,"  a folder that my entire organization can see.");if(this.props.context.isInSharedFoldersBeta)return o.a.createElement("div",{className:"createNewFolderPopUp-sharedFolderInfo"},o.a.createElement("h1",null,"What would you like to do?"),o.a.createElement("form",null,o.a.createElement("div",{className:"createNewFolderPopUp-radioContainer"},o.a.createElement("label",{className:"createNewFolderPopUp-radioLabel"},o.a.createElement("input",{type:"radio",className:"createNewFolderPopUp-radio",value:"private",checked:this.state.folderAccessControl===c.a.PRIVATE,onChange:function(t){return e.handleAccessControlChange(t.target.value)}}),n)),o.a.createElement("div",{className:"createNewFolderPopUp-radioContainer"},o.a.createElement("label",{className:"createNewFolderPopUp-radioLabel"},o.a.createElement("input",{type:"radio",className:"createNewFolderPopUp-radio",value:c.a.SHARED,checked:this.state.folderAccessControl===c.a.SHARED,onChange:function(t){return e.handleAccessControlChange(t.target.value)}}),r))))}},{key:"popUpContent",value:function(){return this.props.context&&0!==this.props.context.length?o.a.createElement("div",{className:"createNewFolderPopUp"},this.renderSharedFolderInfo(),o.a.createElement("input",{onChange:this.handleBinNameChange,onKeyPress:this.checkForSubmit,placeholder:this.getPlaceholderText(),type:"text",value:this.state.newBinName}),o.a.createElement("br",null),o.a.createElement("button",{className:"btn btn-primary",disabled:!this.state.newBinName,onClick:this.confirmAction},this.props.context.buttonText)):null}},{key:"getPlaceholderText",value:function(){switch(l.f()){case"audioblocks":return'Like "Background Music" or "Nature"';case"graphicstock":case"storyblocks":case"videoblocks":return'Like "Landscapes" or "Cities"'}}}])&&d(n.prototype,r),a&&d(n,a),t}(a.a),g="CreateNewFolderPopup";t.b=Object(i.connect)(a.b)(v)},254:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(11),c=n(64),l=n(542),u=n(118),p=n(13);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=h(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?y(r):a).state={newCreditCardData:{cc_number:"",cc_exp_full:"",cc_cvv:""},newCreditCardNumber:"",newCreditCardExpirationDate:"",newCreditCardCvv:"",editing:!e.isTokenValid,errors:{cc_number:"",cc_exp_full:"",cc_cvv:"",checkbox:""},isTokenValid:e.isTokenValid,processing:!1,errorMessage:e.errorMessage},n.enableEditMode=n.enableEditMode.bind(y(n)),n.disableEditMode=n.disableEditMode.bind(y(n)),n.saveCreditCardAndDisableEditMode=n.saveCreditCardAndDisableEditMode.bind(y(n)),n.handleCreditCardFormChange=n.handleCreditCardFormChange.bind(y(n)),n.checkboxRef=o.a.createRef(),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return this.shouldShowUpdateSection()?this.renderUpdateCreditCardSection():this.renderCreditCardOverviewSection()}},{key:"shouldShowUpdateSection",value:function(){return this.state.editing||this.props.shouldForceUpdateViewOnly||!(this.state.isTokenValid||this.hasValidUserSubmittedPaymentInfo())}},{key:"renderCreditCardOverviewSection",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"paymentMethodInfo-row"},o.a.createElement("div",{className:"paymentMethodInfo-col left"},o.a.createElement(c.LazyWebpPicture,{classes:["ccs"],src:"/assets/common/images/credit-card-icons.png"}),o.a.createElement("br",null),o.a.createElement("div",{className:"paymentMethodInfo-existingCreditCardDetails"},"Credit Card ending in ",this.state.newCreditCardData.cc_number?this.state.newCreditCardData.cc_number.substring(this.state.newCreditCardData.cc_number.length-4):this.props.creditCard.creditCardLastFour,o.a.createElement("br",null),"Expiration: ",this.state.newCreditCardData.cc_exp_full||this.props.creditCard.creditCardExpMonth+"/"+this.props.creditCard.creditCardExpYear.toString().slice(-2))),o.a.createElement("div",{className:"paymentMethodInfo-col right"},o.a.createElement("div",{className:"paymentMethodInfo-edit",onClick:this.enableEditMode},"Edit Payment Method"))),this.renderSuccessMessage())}},{key:"renderUpdateCreditCardSection",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{configuration:this.props.configuration,onDataUpdated:this.handleCreditCardFormChange,errors:this.state.errors}),this.props.showDisclaimerCheckbox&&o.a.createElement("div",{className:"paymentMethodInfo-disclaimer"},o.a.createElement("input",{id:"step2FormFormUpdateExistingPaymentMethod-disclaimerCheckBox",name:"step2FormFormUpdateExistingPaymentMethod-disclaimerCheckBox",type:"checkbox",className:"paymentMethodInfo-disclaimerCheckBox required",ref:this.checkboxRef}),o.a.createElement("label",{htmlFor:"step2FormFormUpdateExistingPaymentMethod-disclaimerCheckBox",className:"paymentMethodInfo-disclaimerCheckBoxLabel"},"I understand that the card I use today will become the default payment method across ",o.a.createElement("strong",null,"all")," Storyblocks sites."),o.a.createElement("label",{htmlFor:"step2FormFormUpdateExistingPaymentMethod-disclaimerCheckBox",generated:"true",className:"error"},this.state.errors.checkbox)),this.renderErrorMessage(),o.a.createElement("div",{className:"paymentMethodInfo-row"},o.a.createElement("div",{className:"paymentMethodInfo-col right"},o.a.createElement("div",{className:"paymentMethodInfo-col left"}),o.a.createElement("div",{className:"paymentMethodInfo-col right"},this.renderButtonsOrProcessingIcon()))))}},{key:"renderButtonsOrProcessingIcon",value:function(){return this.state.processing?this.renderProcessingIcon():this.renderSaveAndCancelButtons()}},{key:"renderSaveAndCancelButtons",value:function(){var e=!this.shouldHideCancelButton()&&o.a.createElement("button",{type:"button",className:"btn cancel",onClick:this.disableEditMode},"Cancel");return o.a.createElement(o.a.Fragment,null,e,o.a.createElement("button",{type:"button",className:"btn save",id:"paymentMethodInfo-save",onClick:this.saveCreditCardAndDisableEditMode},this.props.saveButtonText))}},{key:"renderProcessingIcon",value:function(){return o.a.createElement("img",{src:"".concat(__ASSETS_COMMON_IMAGES_URL__,"/admin/loading.gif")})}},{key:"shouldHideCancelButton",value:function(){return this.props.shouldForceUpdateViewOnly||!this.state.isTokenValid&&this.props.shouldHideCancelButtonWhenInvalidToken}},{key:"renderErrorMessage",value:function(){return this.state.errorMessage?o.a.createElement("div",{className:"paymentMethodInfo-errorMessage"},this.state.errorMessage):""}},{key:"renderSuccessMessage",value:function(){return this.state.successMessage?o.a.createElement("div",{className:"paymentMethodInfo-successMessage"},o.a.createElement("div",null,this.state.successMessage)):""}},{key:"handleCreditCardFormChange",value:function(e){this.state.errors;var t=this.state.newCreditCardData;Object.keys(e).forEach((function(n){"errors"===n?e[n]:t[n]=e[n]}))}},{key:"enableEditMode",value:function(){p.Telemetry.increment("paymentmethod.update.start"),this.setState({successMessage:""}),this.toggleEditMode(!0)}},{key:"disableEditMode",value:function(){p.Telemetry.increment("paymentmethod.update.cancel"),this.setState({newCreditCardData:{cc_number:"",cc_exp_full:"",cc_cvv:""},errorMessage:""}),this.props.isTokenValid||this.props.getClosePopUpHandler()(),this.toggleEditMode(!1)}},{key:"toggleEditMode",value:function(e){this.setState({editing:e}),this.props.toggleSubmitButton&&this.props.toggleSubmitButton({editing:e})}},{key:"submitCard",value:function(){var e=this;this.setState({errorMessage:"",processing:!0});var t=this.props.getJsonResponse,n=this.state,r={cc_number:this.state.newCreditCardData.cc_number,cc_exp_full:this.state.newCreditCardData.cc_exp_full,cc_cvv:this.state.newCreditCardData.cc_cvv};n.full_name&&(r.full_name=n.full_name),n.address1&&(r.full_name=n.address1),n.city&&(r.full_name=n.city),n.state&&(r.full_name=n.state),n.zip&&(r.full_name=n.zip),n.country&&(r.full_name=n.country);var o={"Content-Type":"application/json"};t&&(o={Accept:"application/json","Content-Type":"application/json"});var a={body:JSON.stringify(r),method:"POST",headers:o};fetch("/signup/update",a).then((function(e){return t?e.json():e})).then((function(n){return t&&n.success?(p.Telemetry.increment("paymentmethod.update.success"),e.transitionToViewMode()):n.redirected?(p.Telemetry.increment("paymentmethod.update.success"),window.location.replace(n.url)):e.onError(n)})).catch((function(t){e.onError(t)}))}},{key:"onError",value:function(e){p.Telemetry.increment("paymentmethod.update.failure"),this.setState({processing:!1,errorMessage:e.message||"There was an error updating your payment method"})}},{key:"transitionToViewMode",value:function(){var e={editing:!1,errorMessage:"",isTokenValid:!0,processing:!1};if(this.props.configuration.postNewCreditCardOnSave&&(e.successMessage="Your payment method has been updated."),this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),this.props.toggleSubmitButton){var t=this.state.newCreditCardData;this.props.toggleSubmitButton({editing:!1,newCreditCardData:t})}}},{key:"saveCreditCardAndDisableEditMode",value:function(){this.checkForRequiredFields()&&(this.props.configuration.postNewCreditCardOnSave?this.submitCard():this.transitionToViewMode())}},{key:"checkForRequiredFields",value:function(){var e=this.state.errors;return this.state.newCreditCardData.cc_number||e.cc_number||(e.cc_number="This field is required."),this.state.newCreditCardData.cc_exp_full||e.cc_exp_full||(e.cc_exp_full="This field is required."),this.state.newCreditCardData.cc_cvv||e.cc_cvv||(e.cc_cvv="This field is required."),this.state.newCreditCardData.full_name||e.full_name||!this.props.configuration.shouldShowNameField||(e.full_name="This field is required."),this.state.newCreditCardData.zip||e.zip||!this.props.configuration.shouldShowZipFieldOnly&&!this.props.configuration.shouldShowAddressFields||(e.zip="This field is required."),this.props.showDisclaimerCheckbox&&!this.checkboxRef.current.checked?e.checkbox="This field is required":e.checkbox="",this.setState({errors:e}),this.hasValidUserSubmittedPaymentInfo()}},{key:"hasValidUserSubmittedPaymentInfo",value:function(){var e=!0,t=this.state.errors;return t&&Object.values(t).forEach((function(t){t.length>0&&(e=!1)})),e}}])&&f(n.prototype,r),a&&f(n,a),t}(r.Component);v(g,"propTypes",{configuration:u.a.creditCardConfiguration,toggleSubmitButton:i.a.func,getClosePopUpHandler:i.a.func,shouldHideCancelButtonWhenInvalidToken:i.a.bool.isRequired,errorMessage:i.a.string,showDisclaimerCheckbox:i.a.bool.isRequired,saveButtonText:i.a.string.isRequired,isTokenValid:i.a.bool});var C=n(538);n(431);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=k(t).call(this,e))||"object"!==E(o)&&"function"!=typeof o?S(r):o).state={processingUpdateRequest:!1},n.onApprove=n.onApprove.bind(S(n)),n.onCancel=n.onCancel.bind(S(n)),n.onError=n.onError.bind(S(n)),n.onSuccess=n.onSuccess.bind(S(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(r=[{key:"onApprove",value:function(e){var t=this;this.setState({processingUpdateRequest:!0});var n=this.props.getJsonResponse,r=new FormData;r.append("payment_method",s.b.PAYPAL.toString()),r.append("payment_nonce",e.nonce);var o={body:r,method:"POST"};n&&(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{headers:{Accept:"application/json"}})),fetch("/signup/update",o).then((function(e){return n?e.json():e})).then((function(e){return n&&e.success?t.onSuccess():e.redirected?window.location.replace(e.url):t.onError(e)})).catch((function(e){t.onError(e)}))}},{key:"onCancel",value:function(e){}},{key:"onError",value:function(e){this.setState({processingUpdateRequest:!1}),this.props.onUpdateError()}},{key:"onSuccess",value:function(){this.props.onUpdateSuccess&&this.props.onUpdateSuccess()}},{key:"render",value:function(){var e=this.props.configuration,t=e.paypalClientId,n=e.paypalEnvironment,r=e.braintreeClientToken;return this.state.processingUpdateRequest?o.a.createElement("div",{className:"paypalLoading-container"},o.a.createElement("img",{className:"paypalLoading-indicator",src:"".concat(__ASSETS_COMMON_IMAGES_URL__,"/admin/loading.gif")})):o.a.createElement(C.a,{paypalClientId:t,paypalEnvironment:n,braintreeClientToken:r,style:{size:"medium",color:"blue",shape:"rect"},onApprove:this.onApprove,onCancel:this.onCancel,onError:this.onError,step:"update"})}}])&&O(n.prototype,r),a&&O(n,a),t}(r.Component);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_(N,"propTypes",{configuration:i.a.shape({paypalClientId:i.a.string.isRequired,paypalEnvironment:i.a.string.isRequired,braintreeClientToken:i.a.string.isRequired}),getJsonResponse:i.a.bool,paymentMethodUpdateRoute:i.a.string,onUpdateSuccess:i.a.func,onUpdateError:i.a.func});var x,B,I,R=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=U(t).call(this,e))||"object"!==T(o)&&"function"!=typeof o?j(r):o).state={editing:e.editing,isTokenValid:e.isTokenValid},n.onUpdateSuccess=n.onUpdateSuccess.bind(j(n)),n.enableEditMode=n.enableEditMode.bind(j(n)),n.disableEditMode=n.disableEditMode.bind(j(n)),n.onUpdateError=n.onUpdateError.bind(j(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return this.shouldShowUpdateSection()?this.renderUpdatePaymentMethodSection():this.renderPaymentMethodOverview()}},{key:"shouldShowUpdateSection",value:function(){return this.state.editing||!this.state.isTokenValid||this.props.shouldForceUpdateViewOnly}},{key:"renderPaymentMethodOverview",value:function(){var e=this.props.showPaymentDetailsHeader?o.a.createElement("div",{className:"paymentMethodInfo-row"},o.a.createElement("div",{className:"paymentMethodInfo-col left"},o.a.createElement("div",{className:"paymentMethodInfo-paypalHeader"},o.a.createElement("strong",null,"Payment Details:")))):"";return o.a.createElement(o.a.Fragment,null,e,o.a.createElement("div",{className:"paymentMethodInfo-row"},o.a.createElement("div",{className:"paymentMethodInfo-col left"},o.a.createElement(c.LazyWebpPicture,{src:__ASSETS_COMMON_IMAGES_URL__+"/paypal-logo-with-text.png",alt:"PayPal"})),o.a.createElement("div",{className:"paymentMethodInfo-col right paypalUpdate-cancel"},o.a.createElement("div",{className:"paymentMethodInfo-edit",onClick:this.enableEditMode},"Change PayPal Account"))),this.renderUpdatedMessage())}},{key:"renderUpdatePaymentMethodSection",value:function(){var e=this.props,t=e.paymentMethodUpdateRoute,n=e.configuration,r=this.shouldHideCancelButton()?"":o.a.createElement("button",{type:"button",className:"btn cancel paymentMethodInfo-edit",onClick:this.disableEditMode},"Cancel");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"paymentMethodInfo-paypalHeader paymentMethodInfo-paypalHeader-update"},"Sign in to PayPal to update your billing account"),o.a.createElement(N,{configuration:n,paymentMethodUpdateRoute:t,onUpdateSuccess:this.onUpdateSuccess,onUpdateError:this.onUpdateError,getJsonResponse:this.props.getJsonResponse}),this.props.showDisclaimerCheckbox&&o.a.createElement("div",{className:"paymentMethodInfo-paypalDisclaimer paymentMethodInfo-disclaimer"},o.a.createElement("div",{className:"paymentMethodInfo-disclaimerCheckBoxLabel"},"The payment method you use today will become the default payment method across ",o.a.createElement("strong",null,"all")," Storyblocks sites.")),!this.props.shouldForceUpdateViewOnly&&o.a.createElement("div",{className:"paymentMethodInfo-row"},o.a.createElement("div",{className:"paymentMethodInfo-col right"},r)),this.renderErrorMessage())}},{key:"shouldHideCancelButton",value:function(){return this.props.shouldHideCancelButtonWhenInvalidToken&&!this.state.isTokenValid}},{key:"renderUpdatedMessage",value:function(){return this.state.message?o.a.createElement("div",{className:"paymentMethodInfo-successMessage"},o.a.createElement("div",{className:""},this.state.message)):""}},{key:"renderErrorMessage",value:function(){return this.state.message?o.a.createElement("div",{className:"paymentMethodInfo-errorMessage"},this.state.message):""}},{key:"onUpdateSuccess",value:function(){this.setState({isTokenValid:!0}),this.toggleEditMode(!1,"Your payment method has been updated")}},{key:"onUpdateError",value:function(){this.toggleEditMode(!0,"There was an error updating your payment method. Retry your request or contact customer support at support@storyblocks.com for more help.")}},{key:"enableEditMode",value:function(){this.toggleEditMode(!0)}},{key:"disableEditMode",value:function(){!this.state.isTokenValid&&this.props.getClosePopUpHandler?this.props.getClosePopUpHandler()():this.toggleEditMode(!1)}},{key:"toggleEditMode",value:function(e,t){this.setState({editing:e,message:t}),this.props.toggleSubmitButton&&this.props.toggleSubmitButton({editing:e,isTokenValid:this.state.isTokenValid})}}])&&F(n.prototype,r),a&&F(n,a),t}(r.Component);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}x=R,B="propTypes",I={toggleSubmitButton:i.a.func,isTokenValid:i.a.bool,showPaymentDetailsHeader:i.a.bool.isRequired,getClosePopUpHandler:i.a.func,shouldHideCancelButtonWhenInvalidToken:i.a.bool.isRequired,configuration:u.a.paypalConfiguration.isRequired,getJsonResponse:i.a.bool.isRequired,shouldForceUpdateViewOnly:i.a.bool.isRequired},B in x?Object.defineProperty(x,B,{value:I,enumerable:!0,configurable:!0,writable:!0}):x[B]=I;var H=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),q(this,V(t).call(this,e))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){if(this.props.isTokenDeleted)return null;var e,t=this.props,n=t.paymentToken,r=t.paymentMethodConfiguration;if(n.isTokenDeleted)return null;switch(n.paymentMethodType){case s.b.PAYPAL:e=o.a.createElement(R,{configuration:r.paypal.configuration,isTokenValid:n.isTokenValid,toggleSubmitButton:this.props.toggleSubmitButton,showPaymentDetailsHeader:this.props.showPaymentDetailsHeader,getClosePopUpHandler:this.props.getClosePopUpHandler,shouldHideCancelButtonWhenInvalidToken:this.props.shouldHideCancelButtonWhenInvalidToken,errorMessage:this.props.errorMessage,shouldForceUpdateViewOnly:this.props.shouldForceUpdateViewOnly,getJsonResponse:this.props.getJsonResponse,showDisclaimerCheckbox:this.props.showDisclaimerCheckbox});break;case s.b.CARD:default:e=o.a.createElement(g,{configuration:r.creditCard,isTokenValid:n.isTokenValid,creditCard:n.tokenDetails,toggleSubmitButton:this.props.toggleSubmitButton,getClosePopUpHandler:this.props.getClosePopUpHandler,getJsonResponse:this.props.getJsonResponse,showDisclaimerCheckbox:this.props.showDisclaimerCheckbox,errorMessage:this.props.errorMessage,saveButtonText:this.props.saveButtonText,shouldHideCancelButtonWhenInvalidToken:this.props.shouldHideCancelButtonWhenInvalidToken,shouldForceUpdateViewOnly:this.props.shouldForceUpdateViewOnly})}return o.a.createElement("div",{className:"padded paymentMethodInfo-container"},e)}}])&&A(n.prototype,r),a&&A(n,a),t}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(H,"propTypes",{paymentToken:u.a.paymentToken,paymentMethodConfiguration:u.a.paymentMethodConfiguration,toggleSubmitButton:i.a.func,getClosePopUpHandler:i.a.func,shouldHideCancelButtonWhenInvalidToken:i.a.bool.isRequired,showDisclaimerCheckbox:i.a.bool.isRequired,errorMessage:i.a.string,saveButtonText:i.a.string.isRequired,showPaymentDetailsHeader:i.a.bool.isRequired,shouldForceUpdateViewOnly:i.a.bool.isRequired})},29:function(e,t,n){"use strict";var r=n(2),o=n(0),a=n.n(o),i=n(373),s=n(949),c=n(18),l=n(119),u=n(218),p=n(344),d=n(23),m=n.n(d),f=n(539),h=n(456),y=n(20),b=n(380),v=n(13);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?k(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(){var e,n;C(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return P(k(n=w(this,(e=O(t)).call.apply(e,[this].concat(o)))),"handleMouseEnter",(function(){v.Telemetry.increment("nav.maker.hover")})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(r=[{key:"componentWillMount",value:function(){var e=document.getElementById("maker-popover");e&&e.addEventListener("mouseenter",this.handleMouseEnter,!1)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("maker-popover");e&&e.removeEventListener("mouseenter",this.handleMouseEnter,!1)}},{key:"render",value:function(){return null}}])&&E(n.prototype,r),o&&E(n,o),t}(o.Component);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=F(this,U(t).call(this,e))).setLicensePhpCallBack(n.props.dispatch),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(r=[{key:"setLicensePhpCallBack",value:function(e){window.licensePhpCallBack=function(){e(Object(y.c)(h.a,{}))}}},{key:"enterpriseAccountManagerPopUp",value:function(){return this.props.isEnterpriseMember?a.a.createElement(i.b,null):null}},{key:"delayedPaymentPopUp",value:function(){var e=this.props.instanceSpecificInfo[p.a];if(e)return a.a.createElement(f.b,{header:"You're Almost There!",subheader:"Please confirm your reactivation.",isTokenDeleted:e.paymentToken.isTokenDeleted,userSubUniqueId:this.props.instanceSpecificInfo[p.a].userSubUniqueId,paymentFlow:e.paymentFlow})}},{key:"paymentPopUp",value:function(){var e=this.props.instanceSpecificInfo[p.a];if(e)return a.a.createElement(p.b,{header:"You're Almost There!",subheader:"Please confirm your purchase.",paymentToken:e.paymentToken,paymentMethodConfiguration:e.paymentMethodConfiguration,purchaseButtonText:e.purchaseButtonText,userSubUniqueId:e.userSubUniqueId,paymentFlow:e.paymentFlow})}},{key:"componentWillMount",value:function(){this.props.hasFolderAccess&&this.props.dispatch(Object(c.g)())}},{key:"render",value:function(){return a.a.createElement("div",{id:"pop-up-container",className:"skeleton-hide"},this.enterpriseAccountManagerPopUp(),a.a.createElement(s.a,{selector:"#unifiedXsell .unifiedXsell-favorites > svg",isInSharedFoldersBeta:this.props.isInSharedFoldersBeta}),a.a.createElement(l.b,null),a.a.createElement(u.b,null),a.a.createElement(h.b,null),a.a.createElement(_,null),a.a.createElement(b.b,null),this.paymentPopUp(),this.delayedPaymentPopUp())}}])&&T(n.prototype,r),o&&T(n,o),t}(o.Component);t.a=Object(r.connect)((function(e){var t=m()(e,"details.features.isEnterpriseMember")||m()(e,"search.features.isEnterpriseMember"),n=m()(e,"memberBins.isInSharedFoldersBeta"),r=n||!1;return{instanceSpecificInfo:e.popUps.instanceSpecificInfo,isEnterpriseMember:t,hasFolderAccess:e.auth.permissions.hasFolderAccess,upgradeReason:e.popUps.context.upgradeReason,isInSharedFoldersBeta:r}}))(M)},344:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n(0),o=n.n(r),a=n(2),i=n(1),s=n.n(i),c=n(127),l=n(128),u=n(187);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return d(this,t),f(this,h(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,o=[{key:"reactivate",value:function(e,t,n,r,o,a){var i=this.buildFetchOptions("POST",{jr:!0,cc_cvv:a,cc_exp:o,cc_number:r,plan_unique_id:n,unique_id:t});return this.request(e,i)}}],(r=null)&&m(n.prototype,r),o&&m(n,o),t}(n(85).a),v=n(20),g=n(254),C=n(118),E=n(13),w=n(11);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=P(t).call(this,e),n=!o||"object"!==O(o)&&"function"!=typeof o?_(r):o,T(_(n),"handleSubmit",(function(e){e.preventDefault(),n.setState({submitting:!0,editing:!1,declinedMessage:""});var t=n.state.newCreditCardData;n.fireSubmitTelemetry(),b.reactivate(n.props.context.submitUrl,n.props.userSubUniqueId,n.props.context.planUniqueId,n.formatNewCreditCardNumber(t.cc_number),n.formatNewCreditCardExpirationDate(t.cc_exp_full),t.cc_cvv).then((function(e){return e.json()})).then((function(e){e.success?(n.fireSubmitSuccessTelemetry(),window.location.href=e.info.redirectUrl):(n.fireSubmitFailTelemetry(),n.setState({declinedMessage:e.message,submitting:!1}))})).catch((function(e){n.fireSubmitFailTelemetry(),n.setState({declinedMessage:"Failed to process this request.  Please contact our customer service team at support@videoblocks.com",submitting:!1})}))})),n.state={newCreditCardData:{cc_number:"",cc_exp_full:"",cc_cvv:""},editing:!e.paymentToken.isTokenValid,isTokenValid:e.paymentToken.isTokenValid,submitting:!1,declinedMessage:"",paymentNonce:null},n.toggleSubmitButton=n.toggleSubmitButton.bind(_(n)),n.handleSubmit=n.handleSubmit.bind(_(n)),n.getClosePopUpHandler=n.getClosePopUpHandler.bind(_(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){if(this.props.popUpName!==this.popUpName())return"";var e=this.props.context,t=this.props.paymentToken.isTokenDeleted?o.a.createElement("div",null,"Please contact our support team at",o.a.createElement("br",null),o.a.createElement("a",{href:"mailto:support@storyblocks.com"},"support@storyblocks.com"),o.a.createElement("br",null),"to add a payment method to your account."):this.props.subheader;return o.a.createElement(c.a,{popUpName:this.popUpName()},o.a.createElement(l.a,{popUpName:this.popUpName()}),o.a.createElement(u.a,{className:"paymentPopUp"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("fieldset",{disabled:this.state.submitting},o.a.createElement("button",{type:"button",className:"popUpFrame-close",onClick:this.getClosePopUpHandler()},o.a.createElement("span",{"aria-hidden":"true"},"Ã—")),o.a.createElement("div",{className:"paymentPopUp-header"},this.props.header),o.a.createElement("div",{className:"paymentPopUp-subheader"},t),o.a.createElement("div",{className:"purchaseInfoSection gray-bg"},"You will be billed ",e.billAmount," today for",o.a.createElement("b",null," ",e.billedItemTitle),".",o.a.createElement("br",null),e.billedItemInfo),this.renderPaymentMethodViewOrUpdateAndConfirmSection(e)))))}},{key:"renderPaymentMethodViewOrUpdateAndConfirmSection",value:function(e){var t=!this.props.paymentToken.isTokenDeleted;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"paymentMethodInfoSection"},this.renderPaymentMethodViewOrUpdate(),this.renderDeclinedMessage(),e.billedItemNote?o.a.createElement("div",{className:"info-box padded"},o.a.createElement("b",null,"Please note: "),e.billedItemNote):""),t?this.renderConfirmSection(e):"")}},{key:"renderDeclinedMessage",value:function(){return this.state.declinedMessage&&!this.state.editing?o.a.createElement("div",{className:"padded paymentMethodInfo-container info-box paymentMethodInfo-error paymentMethodInfo-row"},o.a.createElement("span",{className:"paymentMethodInfo-error-icon glyphicon glyphicon-warning-sign"}),o.a.createElement("div",{className:"paymentPopUp-error-msg"},this.state.declinedMessage)):""}},{key:"renderConfirmSection",value:function(e){return o.a.createElement("div",{className:"confirmSection gray-bg"},o.a.createElement("div",{className:"padded total"},o.a.createElement("div",{className:"total-label"},"Today's Total"),o.a.createElement("div",{className:"total-amount"},e.billAmount)),o.a.createElement("button",{type:"submit",className:"btn btn-primary confirmButton"+(this.state.submitting?" loading":""),disabled:!this.canSubmit()},this.props.purchaseButtonText),o.a.createElement("div",{className:"padded agreement"},"You may cancel at any time.",o.a.createElement("br",null),"By clicking '",this.props.purchaseButtonText,"', you agree to our",o.a.createElement("a",{href:"/terms-of-service",target:"_blank"}," Terms of Service ")," and authorize this recurring charge."))}},{key:"renderPaymentMethodViewOrUpdate",value:function(){return o.a.createElement(g.a,{paymentToken:this.props.paymentToken,paymentMethodConfiguration:this.props.paymentMethodConfiguration,purchaseButtonText:this.props.purchaseButtonText,userSubUniqueId:this.props.userSubUniqueId,getClosePopUpHandler:this.getClosePopUpHandler,toggleSubmitButton:this.toggleSubmitButton,showPaymentDetailsHeader:!0,getJsonResponse:!0,saveButtonText:"Save",shouldHideCancelButtonWhenInvalidToken:!1,showDisclaimerCheckbox:!1,shouldForceUpdateViewOnly:!1})}},{key:"toggleSubmitButton",value:function(e){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({declinedMessage:""},e))}},{key:"formatNewCreditCardNumber",value:function(e){return e.replace(/-/g,"")}},{key:"formatNewCreditCardExpirationDate",value:function(e){if(e){var t=e.split("/");return t[0]+"/20"+t[1]}return""}},{key:"canSubmit",value:function(){return!this.state.submitting&&!this.state.editing}},{key:"popUpName",value:function(){return U}},{key:"getClosePopUpHandler",value:function(){var e=this;return function(){e.props.dispatch(Object(v.b)())}}},{key:"fireSubmitTelemetry",value:function(){this.props.paymentFlow===w.a.UPGRADE?E.Telemetry.increment("upgradeplan.submit"):this.props.paymentFlow===w.a.REACTIVATE&&E.Telemetry.increment("reactivateplan.submit")}},{key:"fireSubmitSuccessTelemetry",value:function(){this.props.paymentFlow===w.a.UPGRADE?E.Telemetry.increment("upgradeplan.success"):this.props.paymentFlow===w.a.REACTIVATE&&E.Telemetry.increment("reactivateplan.success")}},{key:"fireSubmitFailTelemetry",value:function(){this.props.paymentFlow===w.a.UPGRADE?E.Telemetry.increment("upgradeplan.fail"):this.props.paymentFlow===w.a.REACTIVATE&&E.Telemetry.increment("reactivateplan.fail")}}])&&S(n.prototype,r),a&&S(n,a),t}(r.Component);T(F,"propTypes",{header:s.a.string.isRequired,subheader:s.a.string.isRequired,paymentToken:C.a.paymentToken,paymentMethodConfiguration:C.a.paymentMethodConfiguration,purchaseButtonText:s.a.string.isRequired,userSubUniqueId:s.a.string,paymentFlow:s.a.string,context:s.a.oneOfType([s.a.array,s.a.shape({}),s.a.shape({billAmount:s.a.string.isRequired,billedItemTitle:s.a.string.isRequired,billedItemInfo:s.a.string.isRequired,planUniqueId:s.a.string.isRequired,billedItemNote:s.a.string,submitUrl:s.a.string})]).isRequired});var U="PaymentPopUp";t.b=Object(a.connect)((function(e){return{showPopUp:e.popUps.showPopUp,popUpName:e.popUps.popUpName,context:e.popUps.context}}))(F)},380:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),o=n.n(r),a=n(2),i=n(127),s=n(128),c=n(187),l=n(20);n(1657);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return p(this,t),m(this,f(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"popUpName",value:function(){return b}},{key:"render",value:function(){return o.a.createElement(i.a,{popUpName:this.popUpName()},o.a.createElement(s.a,{popUpName:this.popUpName()}),o.a.createElement(c.a,null,o.a.createElement("div",{className:"cvvPopup-header"},o.a.createElement("button",{type:"button",className:"cvvPopUpFrame-close",onClick:this.getClosePopUpHandler()},o.a.createElement("img",{className:"cvvPopUpFrame-close",src:"/assets/common/images/home/sb-close.png"})),o.a.createElement("h4",null,"What is security code, CVV/CSC?")),o.a.createElement("div",{className:"cvvPopup-body"},o.a.createElement("img",{src:"".concat(__ASSETS_COMMON_IMAGES_URL__,"/cvv_info.jpg")}))))}},{key:"getClosePopUpHandler",value:function(){var e=this;return function(){e.props.dispatch(Object(l.b)())}}}])&&d(n.prototype,r),a&&d(n,a),t}(r.Component),b="Cvv Pop Up";t.b=Object(a.connect)((function(e){return{showPopUp:e.popUps.showPopUp,popUpName:e.popUps.popUpName,context:e.popUps.context}}))(y)},431:function(e,t,n){},456:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),o=n.n(r),a=n(2),i=n(127),s=n(128),c=n(187),l=n(375),u=n(20);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return d(this,t),f(this,h(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"popUpName",value:function(){return v}},{key:"render",value:function(){return o.a.createElement(i.a,{popUpName:this.popUpName()},o.a.createElement(s.a,{popUpName:this.popUpName()}),o.a.createElement(c.a,{className:"licensePopUpFrame-positioning"},o.a.createElement("button",{type:"button",className:"popUpFrame-close ",onClick:this.getClosePopUpHandler()},o.a.createElement("img",{className:"licensePopUpFrame-close",src:"/assets/common/images/home/sb-close.png"})),o.a.createElement(l.a,null,this.popUpContent())))}},{key:"getClosePopUpHandler",value:function(){var e=this;return function(){e.props.dispatch(Object(u.b)())}}},{key:"popUpContent",value:function(){return o.a.createElement("div",{className:"licensingPopUp"},o.a.createElement("h3",{className:"licensingPopUp-header"},"Storyblocks Licensing"),o.a.createElement("p",{className:"licensingPopUp-headerDescription"},"Simplified licensing done right. Thatâ€™s royalty-free assets, yours forever (even if you decide to end your membership)."),o.a.createElement("h4",{className:"licensingPopUp-subheader"},"Individuals"),o.a.createElement("p",{className:"licensingPopUp-description-emphasized"},"For the freelancers, hobbyists, and YouTube aficionados."),o.a.createElement("p",{className:"licensingPopUp-description"},"With our standard license, all your downloads are licensed to you. And you get covered by up to $20,000 indemnification."),o.a.createElement("h4",{className:"licensingPopUp-subheader"},"Businesses"),o.a.createElement("p",{className:"licensingPopUp-description-emphasized"},"For marketing teams, broadcasters, and production houses. "),o.a.createElement("p",{className:"licensingPopUp-description"},"The Enterprise License is written directly to your organization, not the individual person, so youâ€™ll feel covered no matter what you download. Plus, our business license offers your org with up to $1M in indemnification."))}}])&&m(n.prototype,r),a&&m(n,a),t}(r.Component),v="Licensing Pop Up";t.b=Object(a.connect)((function(e){return{showPopUp:e.popUps.showPopUp,popUpName:e.popUps.popUpName,context:e.popUps.context}}))(b)},538:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(0),o=n.n(r),a=n(62),i=n.n(a),s=n(691),c=n.n(s),l=n(1),u=n.n(l),p=n(947),d=n.n(p),m=(n(431),n(13));function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g,C,E,w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,b(t).call(this,e))).state={paypalCheckoutInstance:null},c.a.client.create({authorization:n.props.braintreeClientToken},(function(e,t){e||c.a.paypalCheckout.create({client:t},(function(e,t){e||n.setState({paypalCheckoutInstance:t})}))})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.onApprove,n=e.onCancel,r=e.onError,a=e.paypalEnvironment,s=e.paypalClientId,c=e.style,l=e.step,u=this.state.paypalCheckoutInstance;return u?o.a.createElement(d.a,{type:"text/javascript",src:"https://www.paypal.com/sdk/js?client-id=".concat(s,"&vault=true&disable-funding=credit,card")},(function(e){var s=e.loading,p=e.error;if(s||p)return o.a.createElement("div",{className:"paypalLoading-container"},o.a.createElement("img",{className:"paypalLoading-indicator",src:"".concat(__ASSETS_COMMON_IMAGES_URL__,"/admin/loading.gif")}));var d=paypal.Buttons.driver("react",{React:o.a,ReactDOM:i.a});return o.a.createElement(d,{env:a,style:c,createBillingAgreement:function(e,t){return m.Telemetry.increment("paypal.".concat(l,".started")),u.createPayment({flow:"vault"})},onApprove:function(e,n){m.Telemetry.increment("paypal.".concat(l,".approved")),u.tokenizePayment(e).then((function(e){t(e)}))},onCancel:function(e){m.Telemetry.increment("paypal.".concat(l,".cancelled")),n(e)},onError:function(e){m.Telemetry.increment("paypal.".concat(l,".error")),r(e)}})})):null}}])&&h(n.prototype,r),a&&h(n,a),t}(r.Component);g=w,C="propTypes",E={paypalClientId:u.a.string.isRequired,paypalEnvironment:u.a.string.isRequired,braintreeClientToken:u.a.string.isRequired,onApprove:u.a.func.isRequired,onCancel:u.a.func.isRequired,onError:u.a.func.isRequired,step:u.a.string.isRequired},C in g?Object.defineProperty(g,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):g[C]=E},539:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(0),o=n.n(r),a=n(2),i=n(1),s=n.n(i),c=n(127),l=n(128),u=n(187),p=n(20),d=n(13),m=n(11);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=y(t).call(this,e),n=!o||"object"!==f(o)&&"function"!=typeof o?b(r):o,g(b(n),"handleSubmit",(function(e){e.preventDefault(),n.setState({submitting:!0}),n.fireTelemetry(),e.target.submit()})),n.state={submitting:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){if(this.props.popUpName!==this.popUpName())return"";var e=this.props.context;return o.a.createElement(c.a,{popUpName:this.popUpName()},o.a.createElement(l.a,{popUpName:this.popUpName()}),o.a.createElement(u.a,{className:"paymentPopUp"},o.a.createElement("form",{onSubmit:this.handleSubmit,action:this.props.context.submitUrl,method:"POST"},o.a.createElement("input",{type:"hidden",name:"unique_id",value:this.props.userSubUniqueId}),o.a.createElement("input",{type:"hidden",name:"plan_unique_id",value:this.props.context.planUniqueId}),o.a.createElement("fieldset",{disabled:this.state.submitting},o.a.createElement("button",{type:"button",className:"popUpFrame-close",onClick:this.getClosePopUpHandler()},o.a.createElement("span",{"aria-hidden":"true"},"Ã—")),o.a.createElement("div",{className:"paymentPopUp-header"},this.props.header),o.a.createElement("div",{className:"paymentPopUp-subheader"},this.props.subheader),o.a.createElement("div",{className:"purchaseInfoSection gray-bg"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.renewalMessage}}),this.props.isTokenDeleted?o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement("div",null,"Please contact ",o.a.createElement("a",{href:"mailto:support@storyblocks.com"},"support@storyblocks.com")," to add a payment method to your account.",o.a.createElement("br",null),"You will not be billed at this time.")):"You will not be billed until this date."),o.a.createElement("div",{className:"confirmSection"},o.a.createElement("button",{type:"submit",className:"btn btn-primary confirmButton"+(this.state.submitting?" loading":""),disabled:this.state.submitting},"Confirm Your Reactivation"),o.a.createElement("div",{className:"padded agreement"},"You may cancel at any time. ",o.a.createElement("br",null),"By clicking 'Confirm Your Reactivation', you agree to our",o.a.createElement("a",{href:"/terms-of-service",target:"_blank"}," Terms of Service ")," and authorize this recurring charge."))))))}},{key:"popUpName",value:function(){return E}},{key:"getClosePopUpHandler",value:function(){var e=this;return function(){e.props.dispatch(Object(p.b)())}}},{key:"fireTelemetry",value:function(){this.props.paymentFlow===m.a.UPGRADE?d.Telemetry.increment("upgradeplan.submit"):this.props.paymentFlow===m.a.REACTIVATE&&d.Telemetry.increment("reactivateplan.submit")}}])&&h(n.prototype,r),a&&h(n,a),t}(r.Component);g(C,"propTypes",{header:s.a.string.isRequired,subheader:s.a.string.isRequired,isTokenDeleted:s.a.bool.isRequired,userSubUniqueId:s.a.string.isRequired,paymentFlow:s.a.string,context:s.a.oneOfType([s.a.array,s.a.shape({}),s.a.shape({renewalMessage:s.a.string.isRequired,planUniqueId:s.a.string.isRequired,submitUrl:s.a.string.isRequired})]).isRequired});var E="DelayedPaymentPopUp";t.b=Object(a.connect)((function(e){return{showPopUp:e.popUps.showPopUp,popUpName:e.popUps.popUpName,context:e.popUps.context}}))(C)},542:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(20),c=n(380),l=n(946),u=n.n(l),p=(n(865),n(681)),d=n.n(p);n(1658);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=h(t).call(this,e),n=!a||"object"!==m(a)&&"function"!=typeof a?y(r):a,v(y(n),"componentDidUpdate",(function(){var e=n.tooltipRef.current;if(e&&e.getBoundingClientRect){var t=e.getBoundingClientRect().x;e.style.right=t<0?t+"px":"0px"}})),v(y(n),"toggleTooltip",(function(){n.state.showTooltip?n.hideTooltip():n.showTooltip()})),v(y(n),"showTooltip",(function(){document.getElementsByClassName("textTooltip-container").forEachSpecial((function(e){e.style="display:none"})),n.setState({showTooltip:!0})})),v(y(n),"hideTooltip",(function(){n.setState({showTooltip:!1})})),v(y(n),"delayedHideTooltip",d()(n.hideTooltip,n.props.delayInMs,{leading:!1,trailing:!0})),v(y(n),"handleMouseEnter",(function(){n.delayedHideTooltip.cancel()})),v(y(n),"handleMouseLeave",(function(){n.state.showTooltip&&n.delayedHideTooltip()})),v(y(n),"handleLinkClick",(function(e){e.preventDefault(),!0!==n.props.onHover&&n.toggleTooltip()})),v(y(n),"handleLinkHover",(function(){!0===n.props.onHover&&n.toggleTooltip()})),v(y(n),"handleXClick",(function(e){e.preventDefault(),n.hideTooltip()})),v(y(n),"renderTooltip",(function(){var e={display:n.state.showTooltip?"block":"none"};return o.a.createElement("div",{className:"textTooltip-container",style:e,ref:n.tooltipRef},n.props.hideXButton?"":o.a.createElement("button",{type:"button",className:"textTooltip-closeButton",onClick:n.handleXClick},"Ã—"),o.a.createElement("div",{className:"textTooltip-inner"},n.props.children))})),n.state={showTooltip:!1},n.tooltipRef=o.a.createRef(),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("span",{className:"textTooltip-link",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.a.createElement("a",{href:"#tooltip",onMouseEnter:this.handleLinkHover,onClick:this.handleLinkClick},this.props.useIcon?o.a.createElement("i",{className:"fa fa-info-circle textTooltip-icon","aria-hidden":"true"}):this.props.text),this.renderTooltip())}}])&&f(n.prototype,r),a&&f(n,a),t}(r.Component);v(g,"propTypes",{text:i.a.string,onHover:i.a.bool,useIcon:i.a.bool,hideXButton:i.a.bool,delayInMs:i.a.number}),v(g,"defaultProps",{delayInMs:1e3});var C=g,E=n(64),w=n(2);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=S(t).call(this,e))||"object"!==O(o)&&"function"!=typeof o?P(r):o).showPopup=n.showPopup.bind(P(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("a",{href:"#",onClick:this.showPopup},"What is this?")}},{key:"showPopup",value:function(){this.props.dispatch(Object(s.c)(c.a,{}))}}])&&k(n.prototype,r),a&&k(n,a),t}(r.Component),T=Object(w.connect)()(N),F=n(118);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R="Please enter at least ${min} characters.",D="Please enter no more than ${max} characters.",A=/^([^\s]+\s+)+[^\s]+$/i,q=/[0-9]+$/,V=/^(\d){2}[/](\d){2}/,L=/\D/g,H=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=M(t).call(this,e))||"object"!==U(o)&&"function"!=typeof o?x(r):o).state={full_name:"",address1:"",city:"",state:e.configuration.fieldLabels.defaultStateValue,zip:"",country:e.configuration.fieldLabels.defaultCountryValue,cc_number:"",cc_exp_full:"",cc_cvv:"",pin:"",errors:{full_name:e.errors.full_name,address1:e.errors.address1,city:e.errors.city,state:e.errors.state,zip:e.errors.zip,country:e.errors.country,cc_number:e.errors.cc_number,cc_exp_full:e.errors.cc_exp_full,cc_cvv:e.errors.cc_cvv,pin:e.errors.pin}},n.setValue=n.setValue.bind(x(n)),n.validateFields=n.validateFields.bind(x(n)),n.handleExpirationDateKeyUp=n.handleExpirationDateKeyUp.bind(x(n)),n.showPopup=n.showPopup.bind(x(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e,t,n){e.errors!==this.state.errors&&this.setState({errors:this.props.errors})}},{key:"validateFields",value:function(e){var t=e.target,n=t.value,r=t.name,o=this.state.errors;switch(r){case"full_name":o[r]=this.getErrorsForFullName(n);break;case"address1":o[r]=this.getErrorsForAddress1(n);break;case"city":o[r]=this.getErrorsForCity(n);break;case"zip":o[r]=this.getErrorsForZip(n);break;case"cc_number":o[r]=this.getErrorsForCreditCardNumber(n);break;case"cc_exp_full":o[r]=this.getErrorsForExpirationDate(n);break;case"cc_cvv":o[r]=this.getErrorsForCvv(n);break;case"pin":o[r]=this.getErrorsForPin(n)}this.setState(I({errors:o},r,n)),this.props.onDataUpdated(I({errors:o},r,n))}},{key:"setValue",value:function(e){var t=e.target,n=t.name,r=t.value;this.state.errors[n]?this.validateFields(e):(this.setState(I({},n,r)),this.props.onDataUpdated(I({},n,r)))}},{key:"handleExpirationDateKeyUp",value:function(e){if(8!==e.keyCode&&e.target.value.length<=5){var t=e.target.value.replace(L,"");t.length>1&&t.length<=5&&(t=2===t.length?"".concat(t,"/"):"".concat(t.substring(0,2),"/").concat(t.substring(2,4))),e.target.value=t,this.setValue(e)}else 8===e.keyCode&&this.setValue(e)}},{key:"render",value:function(){var e=this.props.configuration,t=this.state.errors;return o.a.createElement("div",{className:"creditCardForm"},o.a.createElement("div",{className:"creditCardForm-row"},e.shouldShowNameField&&o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("label",{className:"creditCardForm-label"},"Full Name"),o.a.createElement("input",{className:"creditCardForm-input",name:"full_name",type:"text",placeholder:"First Last",value:this.state.full_name,autoComplete:"name",onChange:this.setValue,onBlur:this.validateFields}),t.full_name&&o.a.createElement("label",{htmlFor:"full_name",className:"error"},t.full_name))),e.shouldShowAddressFields&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"creditCardForm-row"},o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("label",{htmlFor:"address1",className:"creditCardForm-label"},"Address"),o.a.createElement("input",{name:"address1",className:"creditCardForm-input",type:"text",id:"address1",placeholder:"Address",value:this.state.address1,autoComplete:"billing street-address",onChange:this.setValue,onBlur:this.validateFields}),t.address1&&o.a.createElement("label",{htmlFor:"address1",className:"error"},t.address1))),o.a.createElement("div",{className:"creditCardForm-row"},o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("label",{htmlFor:"city",className:"creditCardForm-label"},"City"),o.a.createElement("input",{name:"city",className:"creditCardForm-input",type:"text",id:"city",placeholder:"City",value:this.state.city,autoComplete:"billing address-level2",onChange:this.setValue,onBlur:this.validateFields}),t.city&&o.a.createElement("label",{htmlFor:"city",className:"error"},t.city)),o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("label",{htmlFor:"state",className:"creditCardForm-label"},e.fieldLabels.stateLabel),o.a.createElement("select",{id:"state",name:"state",className:"creditCardForm-input","data-style":"btn-default",autoComplete:"billing address-level1",defaultValue:e.fieldLabels.defaultStateValue,onChange:this.setValue},e.states.map((function(e,t){return o.a.createElement("option",{value:e.abbreviation,key:"".concat(e.abbreviation,"-").concat(t)},e.name)}))))),o.a.createElement("div",{className:"creditCardForm-row"},o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("label",{className:"creditCardForm-label",htmlFor:"zip"},e.fieldLabels.zipLabel),o.a.createElement("input",{className:"creditCardForm-input",name:"zip",type:"text",placeholder:"12345",autoComplete:"billing postal-code",value:this.state.zip,onChange:this.setValue,onBlur:this.validateFields}),t.zip&&o.a.createElement("label",{htmlFor:"zip",className:"error"},t.zip)),o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("label",{htmlFor:"country",className:"creditCardForm-label"},"Country"),o.a.createElement("select",{id:"country",name:"country",className:"creditCardForm-input","data-style":"btn-default",autoComplete:"billing country",defaultValue:e.fieldLabels.defaultCountryValue,onChange:this.setValue},e.countries.map((function(e){return o.a.createElement("option",{value:e.abbreviation,key:e.abbreviation},e.name)})))))),o.a.createElement("div",{className:"creditCardForm-row"},o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("div",{className:"creditCardForm-creditCardRowLabel"},o.a.createElement("label",{className:"creditCardForm-label"},"Credit Card Number"),o.a.createElement("img",{className:"creditCardForm-creditCardPictures",src:"".concat(__ASSETS_COMMON_IMAGES_URL__,"/credit-card-icons.png"),alt:"Credit Cards"})),o.a.createElement("input",{className:"creditCardForm-input",name:"cc_number",type:"text",placeholder:"4444-4444-4444-4444",autoComplete:"cc-number",value:this.state.cc_number,onChange:this.setValue,onBlur:this.validateFields}),t.cc_number&&o.a.createElement("label",{htmlFor:"cc_number",className:"error"},t.cc_number))),o.a.createElement("div",{className:"creditCardForm-row"},o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("div",{className:"creditCardForm-creditCardRowLabel"},o.a.createElement("label",{className:"creditCardForm-label"},"Expiration Date")),o.a.createElement("input",{className:"creditCardForm-input",id:"cc_exp_full",name:"cc_exp_full",type:"text",placeholder:"MM/YY",autoComplete:"cc-exp",maxLength:"5",value:this.state.cc_exp_full,onKeyUp:this.handleExpirationDateKeyUp,onChange:this.setValue,onBlur:this.validateFields}),t.cc_exp_full&&o.a.createElement("label",{htmlFor:"cc_exp_full",className:"error"},t.cc_exp_full)),o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("div",{className:"creditCardForm-creditCardRowLabel"},o.a.createElement("label",{className:"creditCardForm-label"},e.fieldLabels.cvvLabel)),o.a.createElement("input",{className:"creditCardForm-input",name:"cc_cvv",type:"text",placeholder:"123",autoComplete:"cc-csc",value:this.state.cc_cvv,onChange:this.setValue,onBlur:this.validateFields}),t.cc_cvv&&o.a.createElement("label",{htmlFor:"cc_cvv",className:"error"},t.cc_cvv),e.shouldShowCvvDescription&&this.renderCvvDescription())),e.shouldShowZipFieldOnly&&o.a.createElement("div",{className:"creditCardForm-row"},o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("label",{className:"creditCardForm-label",htmlFor:"zip"},e.fieldLabels.zipLabel," "),o.a.createElement("input",{className:"creditCardForm-input",name:"zip",type:"text",placeholder:"12345",autoComplete:"billing postal-code",value:this.state.zip,onChange:this.setValue,onBlur:this.validateFields}),t.zip&&o.a.createElement("label",{htmlFor:"zip",className:"error"},t.zip)),o.a.createElement("div",{className:"creditCardForm-item"}))),e.shouldShowPinField&&o.a.createElement("div",{className:"creditCardForm-row"},o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"creditCardForm-item"},o.a.createElement("label",{className:"creditCardForm-label",htmlFor:"pin"},e.fieldLabels.pinLabel," "),o.a.createElement("input",{className:"creditCardForm-input",name:"pin",type:"text",placeholder:"",value:this.state.pin,onChange:this.setValue,onBlur:this.validateFields}),t.pin&&o.a.createElement("label",{htmlFor:"pin",className:"error"},t.pin)),o.a.createElement("div",{className:"creditCardForm-item"}))))}},{key:"renderCvvDescription",value:function(){return this.props.configuration.useTextTooltipForCvvPopup?o.a.createElement(C,{onHover:!0,useIcon:!1,hideXButton:!0,delayInMs:50,text:"What is this?"},o.a.createElement(E.LazyWebpPicture,{src:"/assets/common/images/cvv_info.jpg"}),")"):o.a.createElement(T,null)}},{key:"showPopup",value:function(){this.props.dispatch(Object(s.c)(c.a,{}))}},{key:"getErrorsForFullName",value:function(e){return e.length<2&&e.length>0?R.replace("${min}","2"):e.length>255?D.replace("${max}","255"):A.test(e.trim())?"":"Please enter your first and last name."}},{key:"getErrorsForAddress1",value:function(e){return e.length<2&&e.length>0?R.replace("${min}","2"):e.length>255?D.replace("${max}","255"):""}},{key:"getErrorsForCity",value:function(e){return e.length<2&&e.length>0?R.replace("${min}","2"):e.length>255?D.replace("${max}","255"):""}},{key:"getErrorsForZip",value:function(e){return e.length<4?R.replace("${min}","4"):""}},{key:"getErrorsForCreditCardNumber",value:function(e){return e.length<14?R.replace("${min}","14"):e.length>19?D.replace("${max}","19"):q.test(e)&&u.a.validate(e)?"":"Please enter a valid credit card number."}},{key:"getErrorsForCvv",value:function(e){return e.length<3?R.replace("${min}","3"):e.length>4?D.replace("${max}","4"):q.test(e)?"":"Please enter only digits."}},{key:"getErrorsForPin",value:function(e){return e.length<7?R.replace("${min}","7"):e.length>18?D.replace("${max}","18"):""}},{key:"getErrorsForExpirationDate",value:function(e){var t=(new Date).getFullYear().toString().substr(-2),n=V.test(e),r=e.split("/"),o=r[0],a=r[1],i=o>0&&o<=12,s=a>=t,c=!0;return t===a&&(c=(new Date).getMonth()+1<=o),n&&i&&s&&c?"":"Please enter a valid credit card expiration date (MM/YY)"}}])&&j(n.prototype,r),a&&j(n,a),t}(r.Component);I(H,"propTypes",{configuration:F.a.creditCardConfiguration.isRequired,onDataUpdated:i.a.func.isRequired,errors:i.a.shape({full_name:i.a.string,address1:i.a.string,city:i.a.string,state:i.a.string,zip:i.a.string,country:i.a.string,cc_number:i.a.string,cc_exp_full:i.a.string,cc_cvv:i.a.string,pin:i.a.string}).isRequired})},865:function(e,t,n){},949:function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),a=n(2),i=n(1),s=n.n(i),c=n(18),l=n(129),u=n(20),p=n(218),d=n(4);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,o=h(n).call(this,e),t=!o||"object"!==m(o)&&"function"!=typeof o?y(r):o,v(y(t),"handleClickOutsidePopover",(function(e){t.popover&&t.popover.contains(e.target)||t.setState({showPopover:!1})})),v(y(t),"handleClickCreateNewBinButton",(function(e){var n=t.props.isInSharedFoldersBeta;n?t.props.dispatch(Object(u.c)(p.a,{title:"Create a new folder",buttonText:"Create",isInSharedFoldersBeta:n,inputBinName:e,buttonAction:function(e,n){t.props.dispatch(Object(c.c)(e,[],n))}})):t.props.dispatch(Object(c.c)(e))})),v(y(t),"handleClickBinButton",(function(e){window.location=d.e.buildInstance().getFoldersBasePath()+"/"+e.uniqueId})),t.state={showPopover:!1,bins:t.convertBinFromObjectToArray(t.props.bins)},t.memberBinNavigatePopoverListenForUnifiedNavFavoriteButtonClick(),t}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,t),r=n,(a=[{key:"componentWillReceiveProps",value:function(e){this.setState({bins:this.convertBinFromObjectToArray(e.bins)})}},{key:"convertBinFromObjectToArray",value:function(e){return Object.keys(e).map((function(t){return e[t]}))}},{key:"memberBinNavigatePopoverListenForUnifiedNavFavoriteButtonClick",value:function(){var t=this;e(this.props.selector).length&&e(this.props.selector).on("click",(function(e){e.preventDefault(),t.setState({showPopover:!t.state.showPopover})}))}},{key:"componentWillMount",value:function(){document.addEventListener("mousedown",this.handleClickOutsidePopover,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutsidePopover,!1)}},{key:"render",value:function(){var e=this,t={position:"fixed",top:"54px",left:"auto",right:"140px",zIndex:1e3,display:this.state.showPopover?"block":"none",backgroundColor:"white",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.175)",padding:"15px 15px 11px 15px",borderBottom:"1px solid #DBDBDB"};return o.a.createElement("div",{id:"favorite-navigateable-popover",style:t,ref:function(t){return e.popover=t}},o.a.createElement(l.a,{bins:this.props.bins,title:"",binClickedCallback:this.handleClickBinButton,createNewClickedCallback:this.handleClickCreateNewBinButton,shouldUseBootstrapPopover:!1,showAllButton:!0}))}}])&&f(r.prototype,a),i&&f(r,i),n}(r.Component);v(g,"propTypes",{selector:s.a.string.isRequired,isInSharedFoldersBeta:s.a.bool}),v(g,"defaultProps",{isInSharedFoldersBeta:!1}),t.a=Object(a.connect)((function(e,t){return{bins:Object.keys(e.memberBins.bins).map((function(t){return e.memberBins.bins[t]}))}}))(g)}).call(this,n(7))}}]);